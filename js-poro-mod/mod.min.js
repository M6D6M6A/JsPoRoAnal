!function(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.PokeRogueMOD=e():n.PokeRogueMOD=e()}(this,(()=>(()=>{"use strict";var n={20:(n,e,t)=>{t.d(e,{A:()=>s});var o=t(601),r=t.n(o),a=t(314),i=t.n(a)()(r());i.push([n.id,'/* actions.css */\n.action-toggle {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    background: transparent;\n    border: none;\n    outline: none;\n    height: 60px; /* Same height as logo */\n    color: #e0681a;\n    padding: 4px;\n}\n\n.feature-buttons {\n    display: none;\n    flex-direction: row;\n    gap: 6px;\n    align-items: center;\n    justify-content: flex-start; /* Align buttons to the left */\n}\n\n.feature-buttons.active {\n    display: flex;\n}\n\n.icon-button,\n.social-button {\n    background-color: rgba(0, 0, 0, 0.8);\n    border: 1px solid #e0681a;\n    backdrop-filter: blur(3px);\n    border-radius: 50%;\n    padding: 10px;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 40px;\n    height: 40px;\n}\n\n.icon-button .material-icons-outlined,\n.social-button .material-icons-outlined {\n    color: #e0681a;\n}\n\n.icon-button .tooltip,\n.social-button .tooltip {\n    visibility: hidden;\n    width: 80px;\n    background-color: rgba(0, 0, 0, 0.8);\n    border: 1px solid #e0681a;\n    backdrop-filter: blur(3px);\n    color: #e0681a;\n    text-align: center;\n    border-radius: 6px;\n    padding: 5px;\n    position: absolute;\n    z-index: 1;\n    bottom: 125%;\n    left: 50%;\n    margin-left: -40px;\n    opacity: 0;\n    transition: opacity 0.3s;\n}\n\n.icon-button .tooltip::after,\n.social-button .tooltip::after {\n    content: "";\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    margin-left: -5px;\n    border-width: 5px;\n    border-style: solid;\n    border-color: black transparent transparent transparent;\n}\n\n.icon-button:hover .tooltip,\n.social-button:hover .tooltip {\n    visibility: visible;\n    opacity: 1;\n}\n\n.icon-button.selected {\n    background-color: rgba(224, 104, 26, 0.8);\n}\n\n.icon-button.selected .material-icons-outlined {\n    color: #000;\n}\n',""]);const s=i},791:(n,e,t)=>{t.d(e,{A:()=>s});var o=t(601),r=t.n(o),a=t(314),i=t.n(a)()(r());i.push([n.id,"/* base-layout.css */\n.container {\n    background-color: rgba(0, 0, 0, 0.8);\n    border: 1px solid #e0681a;\n    border-radius: 12px;\n    padding: 8px;\n    backdrop-filter: blur(3px);\n}\n\nh2 {\n    color: #e0681a;\n    margin: 8px 0px;\n}\n\n.label {\n    color: white;\n}\n\n.input-row,\n.button-row {\n    margin-bottom: 15px;\n}\n\n.number-input,\n.dropdown {\n    width: 100%;\n    padding: 8px;\n    border: 1px solid #e0681a;\n    border-radius: 4px;\n    background-color: rgba(0, 0, 0, 0.8);\n    color: white;\n}\n\nbutton {\n    padding: 10px 20px;\n    border: none;\n    border-radius: 4px;\n    background-color: #e0681a;\n    color: black;\n    cursor: pointer;\n}\n\n/* Ensure toast container is fixed at the bottom */\n#toast-container {\n    position: fixed;\n    bottom: 0;\n    left: 50%;\n    transform: translateX(-50%);\n    z-index: 10000;\n    width: auto;\n    max-width: 100%;\n    pointer-events: none; /* Prevent interaction with the toast container */\n}\n",""]);const s=i},114:(n,e,t)=>{t.d(e,{A:()=>h});var o=t(601),r=t.n(o),a=t(314),i=t.n(a),s=t(227),l=t(20),c=t(516),d=t(791),u=t(611),p=i()(r());p.i(s.A),p.i(l.A),p.i(c.A),p.i(d.A),p.i(u.A),p.push([n.id,"\n",""]);const h=p},227:(n,e,t)=>{t.d(e,{A:()=>s});var o=t(601),r=t.n(o),a=t(314),i=t.n(a)()(r());i.push([n.id,"/* popup.css */\n\n.popup-container {\n    position: fixed;\n    top: 10%;\n    left: 50%;\n    z-index: 10000;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    min-width: 60px; /* Ensure minimum width matches logo */\n}\n\n.popup-table {\n    border-collapse: collapse;\n    width: auto;\n}\n\n.popup-table td {\n    padding: 0;\n    border: none;\n    vertical-align: top; /* Align cells to the top */\n    text-align: center;\n}\n\n.logo-cell {\n    width: 66px;\n    height: 62px;\n    vertical-align: middle; /* Align the logo cell vertically */\n}\n\n.action-toggle-cell {\n    width: auto;\n    vertical-align: middle; /* Align the action toggle cell vertically */\n}\n\n.feature-buttons-cell {\n    text-align: left; /* Align the feature buttons cell to the left */\n    vertical-align: middle; /* Vertically center the feature buttons cell */\n}\n\n.social-cell {\n    width: 66px;\n    vertical-align: top; /* Align the social cell to the top */\n}\n\n.settings-cell {\n    width: auto;\n    text-align: left; /* Align the settings cell to the left */\n    vertical-align: top; /* Align the settings cell to the top */\n    display: none; /* Hide settings cell by default */\n}\n\n/* Logo styles */\n.logo {\n    background-color: rgba(0, 0, 0, .8);\n    border: 2px solid #e0681a;\n    backdrop-filter: blur(3px);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 50%;\n    width: 100%;\n    height: 100%;\n    cursor: grab;\n    user-select: none;\n}\n\n.logo img {\n    width: 40px;\n    pointer-events: none;\n}\n\n/* Prevent elements from being highlighted */\n* {\n    -webkit-tap-highlight-color: transparent;\n}\n",""]);const s=i},611:(n,e,t)=>{t.d(e,{A:()=>s});var o=t(601),r=t.n(o),a=t(314),i=t.n(a)()(r());i.push([n.id,"/* roll-screen.css */\n\n#rollScreen {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    width: 100%;\n    max-width: 600px; /* Adjust as needed */\n}\n\n#rollScreen h2 {\n    width: 100%;\n    text-align: center; /* Center the header */\n    margin-bottom: 16px; /* Adjust space below the header if needed */\n}\n\n.input-table {\n    width: 100%;\n    border-collapse: collapse;\n    border-spacing: 0 4px; /* Add 4px spacing between rows */\n}\n\n.input-row {\n    display: table-row;\n    width: 100%;\n    height: 40px; /* Adjust height to ensure proper vertical alignment */\n}\n\n.label-cell,\n.checkbox-cell,\n.input-cell {\n    padding: 8px;\n    border: none;\n    vertical-align: middle; /* Vertically center the content */\n}\n\n.label-cell {\n    text-align: left; /* Align the text label to the left */\n    width: 1%; /* Shrink to fit content */\n    white-space: nowrap; /* Prevent line break */\n}\n\n.checkbox-cell {\n    text-align: center;\n    width: 1%; /* Shrink to fit content */\n    white-space: nowrap; /* Prevent line break */\n}\n\n.input-cell {\n    display: flex;\n    align-items: center;\n    gap: 8px; /* Space between inputs and buttons */\n    vertical-align: middle; /* Vertically center the input cell */\n}\n\n.label {\n    color: white;\n    text-align: left; /* Align text labels to the left */\n    display: block;\n}\n\n.number-input,\n.dropdown,\n.roll-button {\n    flex-grow: 1;\n    padding: 8px;\n    border: 1px solid #e0681a;\n    border-radius: 4px;\n    background-color: rgba(0, 0, 0, 0.8);\n    color: white;\n    min-width: 100px;\n    height: 36px; /* Set consistent height for inputs and buttons */\n    box-sizing: border-box; /* Ensure padding and border are included in height */\n}\n\n.set-button {\n    flex-shrink: 0;\n    padding: 8px;\n    border: 1px solid #e0681a;\n    border-radius: 4px;\n    background-color: #e0681a;\n    color: black;\n    cursor: pointer;\n    min-width: 60px;\n    height: 36px; /* Set consistent height for inputs and buttons */\n    box-sizing: border-box; /* Ensure padding and border are included in height */\n}\n\n.toggle-checkbox {\n    flex-shrink: 0;\n    margin-right: 4px; /* Space between checkboxes and inputs */\n    vertical-align: middle; /* Vertically center the checkbox */\n    height: 36px; /* Set consistent height for inputs and buttons */\n    box-sizing: border-box; /* Ensure padding and border are included in height */\n}\n\n/* Ensure checkboxes are displayed correctly */\n.toggle-checkbox {\n    appearance: none;\n    -webkit-appearance: none;\n    width: 18px;\n    height: 18px;\n    border: 2px solid #e0681a;\n    border-radius: 3px;\n    display: inline-block;\n    position: relative;\n    cursor: pointer;\n    background-color: white;\n    vertical-align: middle;\n    box-sizing: border-box;\n}\n\n.toggle-checkbox:checked::before {\n    content: '';\n    position: absolute;\n    top: 2px;\n    left: 2px;\n    width: 10px;\n    height: 10px;\n    background-color: #e0681a;\n}\n\nbutton {\n    padding: 10px 20px;\n    border: none;\n    border-radius: 4px;\n    background-color: #e0681a;\n    color: black;\n    cursor: pointer;\n    height: 36px; /* Set consistent height for inputs and buttons */\n    box-sizing: border-box; /* Ensure padding and border are included in height */\n}\n\n/* Ensure item tier select option is visible */\n.dropdown {\n    display: inline-block;\n    background-color: rgba(0, 0, 0, 0.8);\n    border: 1px solid #e0681a;\n    color: white;\n    border-radius: 4px;\n    padding: 8px;\n    min-width: 100px;\n    box-sizing: border-box;\n}\n",""]);const s=i},516:(n,e,t)=>{t.d(e,{A:()=>s});var o=t(601),r=t.n(o),a=t(314),i=t.n(a)()(r());i.push([n.id,"/* social.css */\n.social-toggle {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    background: transparent;\n    border: none;\n    outline: none;\n    width: 100%;\n    color: #e0681a;\n    padding: 4px;\n}\n\n.social-links {\n    display: none;\n    flex-direction: column;\n    gap: 6px;\n    align-items: center;\n    width: 100%;\n}\n\n.social-links.active {\n    display: flex;\n}\n\n.social-button img {\n    max-width: 20px;\n    max-height: 20px;\n}\n",""]);const s=i},314:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",o=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),o&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),o&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,o,r,a){"string"==typeof n&&(n=[[null,n,void 0]]);var i={};if(o)for(var s=0;s<this.length;s++){var l=this[s][0];null!=l&&(i[l]=!0)}for(var c=0;c<n.length;c++){var d=[].concat(n[c]);o&&i[d[0]]||(void 0!==a&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=a),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),r&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=r):d[4]="".concat(r)),e.push(d))}},e}},601:n=>{n.exports=function(n){return n[1]}},72:n=>{var e=[];function t(n){for(var t=-1,o=0;o<e.length;o++)if(e[o].identifier===n){t=o;break}return t}function o(n,o){for(var a={},i=[],s=0;s<n.length;s++){var l=n[s],c=o.base?l[0]+o.base:l[0],d=a[c]||0,u="".concat(c," ").concat(d);a[c]=d+1;var p=t(u),h={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==p)e[p].references++,e[p].updater(h);else{var b=r(h,o);o.byIndex=s,e.splice(s,0,{identifier:u,updater:b,references:1})}i.push(u)}return i}function r(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,r){var a=o(n=n||[],r=r||{});return function(n){n=n||[];for(var i=0;i<a.length;i++){var s=t(a[i]);e[s].references--}for(var l=o(n,r),c=0;c<a.length;c++){var d=t(a[c]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}a=l}}},659:n=>{var e={};n.exports=function(n,t){var o=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(o){t=null}e[n]=t}return e[n]}(n);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},540:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},56:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var o="";t.supports&&(o+="@supports (".concat(t.supports,") {")),t.media&&(o+="@media ".concat(t.media," {"));var r=void 0!==t.layer;r&&(o+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),o+=t.css,r&&(o+="}"),t.media&&(o+="}"),t.supports&&(o+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),e.styleTagTransform(o,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},113:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}},e={};function t(o){var r=e[o];if(void 0!==r)return r.exports;var a=e[o]={id:o,exports:{}};return n[o](a,a.exports,t),a.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var o in e)t.o(e,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:e[o]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.nc=void 0;var o={};return(()=>{t.r(o),t.d(o,{startPopup:()=>H});var n=t(72),e=t.n(n),r=t(825),a=t.n(r),i=t(659),s=t.n(i),l=t(56),c=t.n(l),d=t(540),u=t.n(d),p=t(113),h=t.n(p),b=t(114),g={};g.styleTagTransform=h(),g.setAttributes=c(),g.insert=s().bind(null,"head"),g.domAPI=a(),g.insertStyleElement=u(),e()(b.A,g),b.A&&b.A.locals&&b.A.locals;const m='<div class="popup-container" id="popupContainer">\r\n    <table class="popup-table">\r\n        <tr>\r\n            <td class="logo-cell" id="logoContainer">\r\n                <div class="logo" id="logoButton">\r\n                    <img src="https://raw.githubusercontent.com/PokeRogueMOD/JsPoRoMOD/main/js-poro-mod/assets/images/logo-round-512px.png" alt="Logo">\r\n                </div>\r\n            </td>\r\n            <td class="action-toggle-cell">\r\n                <button class="action-toggle" id="actionToggle">\r\n                    <span class="material-icons-outlined">chevron_right</span>\r\n                </button>\r\n            </td>\r\n            <td class="feature-buttons-cell" id="featureButtonsCell">\r\n                <div class="feature-buttons" id="featureButtons">\r\n                    <button class="icon-button" id="rollButton">\r\n                        <span class="material-icons-outlined">casino</span>\r\n                        <span class="tooltip">Roll</span>\r\n                    </button>\r\n                    <button class="icon-button" id="accountButton">\r\n                        <span class="material-icons-outlined">manage_accounts</span>\r\n                        <span class="tooltip">MOD</span>\r\n                    </button>\r\n                    <button class="icon-button" id="dataButton">\r\n                        <span class="material-icons-outlined">save</span>\r\n                        <span class="tooltip">Manage</span>\r\n                    </button>\r\n                </div>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td class="social-cell">\r\n                <button class="social-toggle" id="socialToggle">\r\n                    <span class="material-icons-outlined">keyboard_arrow_down</span>\r\n                </button>\r\n                <div class="social-links" id="socialLinks">\r\n                    <button class="social-button" id="videoButton">\r\n                        <img src="https://upload.wikimedia.org/wikipedia/commons/4/42/YouTube_icon_%282013-2017%29.png" alt="YouTube">\r\n                    </button>\r\n                    <button class="social-button" id="codeButton">\r\n                        <span class="material-icons-outlined">code</span>\r\n                    </button>\r\n                    <button class="social-button" id="twitchButton">\r\n                        <img src="https://avatars.githubusercontent.com/u/1795021" alt="Twitch">\r\n                    </button>\r\n                </div>\r\n            </td>\r\n            <td></td>\r\n            <td class="settings-cell" id="settingsContainer">\r\n                \x3c!-- Placeholder for future settings window --\x3e\r\n                <div id="rollScreen" style="display: none;"></div>\r\n                <div id="accountScreen" style="display: none;"></div>\r\n                <div id="dataScreen" style="display: none;"></div>\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    \x3c!-- Toast Container --\x3e\r\n    <div id="toastContainer"></div>\r\n</div>';function x(n){return(n=n.replace(/[^\d.,-]/g,"")).replace(/[,\s]/g,"")}function f(n,e,t){return Math.max(e,Math.min(t,n))}const y='<div id="rollScreen" class="container">\r\n    <h2>Roll MOD</h2>\r\n    <table class="input-table">\r\n        <tr class="input-row">\r\n            <td class="label-cell">\r\n                <label for="luckInput" class="label">Luck:</label>\r\n            </td>\r\n            <td class="checkbox-cell">\r\n                <input type="checkbox" id="luckCheckbox" class="toggle-checkbox" />\r\n            </td>\r\n            <td class="input-cell">\r\n                <input type="text" id="luckInput" class="number-input" />\r\n                <button id="setLuckButton" class="set-button">Set</button>\r\n            </td>\r\n        </tr>\r\n        <tr class="input-row">\r\n            <td class="label-cell">\r\n                <label for="moneyInput" class="label">Money:</label>\r\n            </td>\r\n            <td class="checkbox-cell">\r\n                <input type="checkbox" id="moneyCheckbox" class="toggle-checkbox" />\r\n            </td>\r\n            <td class="input-cell">\r\n                <input type="text" id="moneyInput" class="number-input" />\r\n                <button id="setMoneyButton" class="set-button">Set</button>\r\n            </td>\r\n        </tr>\r\n        <tr class="input-row">\r\n            <td class="label-cell">\r\n                <label for="rollCountInput" class="label">Roll Count:</label>\r\n            </td>\r\n            <td class="checkbox-cell">\r\n                <input type="checkbox" id="rollCountCheckbox" class="toggle-checkbox" />\r\n            </td>\r\n            <td class="input-cell">\r\n                <input type="text" id="rollCountInput" class="number-input" />\r\n                <button id="setRollCountButton" class="set-button">Set</button>\r\n            </td>\r\n        </tr>\r\n        <tr class="input-row">\r\n            <td class="label-cell">\r\n                <label for="itemTierSelect" class="label">Item Tier:</label>\r\n            </td>\r\n            <td class="checkbox-cell">\r\n                <input type="checkbox" id="itemTierCheckbox" class="toggle-checkbox" />\r\n            </td>\r\n            <td class="input-cell">\r\n                <select id="itemTierSelect" class="dropdown">\r\n                    <option value="No">No</option>\r\n                    \x3c!-- Add more options as needed --\x3e\r\n                </select>\r\n            </td>\r\n        </tr>\r\n        <tr class="input-row">\r\n            <td class="label-cell">\r\n                <label for="lockShopToggle" class="label">Lock Shop:</label>\r\n            </td>\r\n            <td class="checkbox-cell">\r\n                <input type="checkbox" id="lockShopToggle" class="toggle-checkbox" />\r\n            </td>\r\n            <td class="input-cell">\r\n                <button id="rollActionButton" class="roll-button">Roll</button>\r\n            </td>\r\n        </tr>\r\n    </table>\r\n</div>';function v(n){M.toast({html:n})}const E={COMMON:0,GREAT:1,ULTRA:2,ROGUE:3,MASTER:4};class k{constructor(){this.minInt=-Math.pow(2,31),this.maxInt=Math.pow(2,31)-1,this.maxMoneyInt=Number.MAX_SAFE_INTEGER-this.maxInt}get scenes(){return Phaser.Display.Canvas.CanvasPool.pool[0].parent.game.scene.scenes}get currentScene(){return this.scenes[this.scenes.length>1?this.scenes.length-1:0]}get currentPhase(){return this.currentScene.currentPhase}get currentPhaseName(){return this.currentPhase.constructor.name}maxTeamLuck(){this.currentPhase.scene.getParty().forEach((n=>{n.luck=11}))}setMoney(n){this.currentPhase.scene.money=n,this.currentPhase.scene.updateMoneyText(),this.currentPhase.scene.animateMoneyChanged(!1)}playBuySound(n){this.currentPhase.scene.playSound(n)}clearUI(){this.currentPhase.scene.ui.clearText()}setUIMode(n){return this.currentPhase.scene.ui.setMode(n)}}class w extends k{constructor(){super()}rerollPhase(n,e){const t=3+(this.currentScene.modifiers.find((n=>"ExtraModifierModifier"===n.constructor.name))?.stackCount??0);let o=Phaser.Display.Canvas.CanvasPool.pool[1].parent.parentContainer.parentContainer.displayList.list,r=o[o.length-1].list.find((n=>"UI"==n.constructor.name)).list[17].list.slice(0,t).map((n=>n.modifierTypeOption)).map((n=>n.type.tier));this.currentScene.lockModifierTiers=e;let a=!0===e&&null===n?r:null===n?this.currentPhase.getModifierTypeOptions(t).map((n=>n.type.tier)):new Array(t).fill(n),i=this.currentPhase.scene.ui.getHandler();i?.updateLockRaritiesText(),this.currentPhase.scene.reroll=!0,this.currentPhase.scene.unshiftPhase(new this.currentPhase.constructor(this.currentScene,this.maxInt,a))}execute(n,e){"SelectModifierPhase"===this.currentPhaseName&&3!==Phaser.Display.Canvas.CanvasPool.pool[0].parent.game.scene.keys.battle.gameMode.modeId&&(this.rerollPhase(n,e),this.clearUI(),this.setUIMode(0).then((()=>this.currentPhase.end())),this.maxTeamLuck(),this.setMoney(this.maxMoneyInt),this.playBuySound("buy"))}}class _ extends k{constructor(){super()}execute(){"TitlePhase"===this.currentPhaseName&&this.currentScene.gameData.saveAll(this.currentScene,!0,!0,!0).then((n=>{if(!n)return this.currentScene.reset(!0);this.currentScene.gameData.tryClearSession(this.currentScene,this.currentScene.sessionSlotId).then((n=>{if(!n[0])return this.currentScene.reset(!0);this.currentScene.reset(),this.currentScene.unshiftPhase(new this.currentScene.constructor(this.scene)),this.currentPhase.end()}))}))}}const I={_10K_MONEY:0,_100K_MONEY:1,_1M_MONEY:2,_10M_MONEY:3,_250_DMG:4,_1000_DMG:5,_2500_DMG:6,_10000_DMG:7,_250_HEAL:8,_1000_HEAL:9,_2500_HEAL:10,_10000_HEAL:11,LV_100:12,LV_250:13,LV_1000:14,_10_RIBBONS:15,_25_RIBBONS:16,_50_RIBBONS:17,_75_RIBBONS:18,_100_RIBBONS:19,TRANSFER_MAX_BATTLE_STAT:20,MAX_FRIENDSHIP:21,MEGA_EVOLVE:22,GIGANTAMAX:23,TERASTALLIZE:24,STELLAR_TERASTALLIZE:25,SPLICE:26,MINI_BLACK_HOLE:27,CATCH_MYTHICAL:28,CATCH_SUB_LEGENDARY:29,CATCH_LEGENDARY:30,SEE_SHINY:31,SHINY_PARTY:32,HATCH_MYTHICAL:33,HATCH_SUB_LEGENDARY:34,HATCH_LEGENDARY:35,HATCH_SHINY:36,HIDDEN_ABILITY:37,PERFECT_IVS:38,CLASSIC_VICTORY:39,MONO_GEN_ONE_VICTORY:40,MONO_GEN_TWO_VICTORY:41,MONO_GEN_THREE_VICTORY:42,MONO_GEN_FOUR_VICTORY:43,MONO_GEN_FIVE_VICTORY:44,MONO_GEN_SIX_VICTORY:45,MONO_GEN_SEVEN_VICTORY:46,MONO_GEN_EIGHT_VICTORY:47,MONO_GEN_NINE_VICTORY:48,MONO_NORMAL:49,MONO_FIGHTING:50,MONO_FLYING:51,MONO_POISON:52,MONO_GROUND:53,MONO_ROCK:54,MONO_BUG:55,MONO_GHOST:56,MONO_STEEL:57,MONO_FIRE:58,MONO_WATER:59,MONO_GRASS:60,MONO_ELECTRIC:61,MONO_PSYCHIC:62,MONO_ICE:63,MONO_DRAGON:64,MONO_DARK:65,MONO_FAIRY:66};class S extends k{constructor(){super()}execute(n,e,t){const o=Date.now()-1e3*(3600*n+60*e+t);this.currentScene.gameData.achvUnlocks=Object.keys(I).reduce(((n,e)=>(n[e]=o,n)),{})}}class O{constructor(){this.selectModifierPhaseScene=new w,this.dataResetter=new _,this.achvUnlocker=new S}roll(n=null,e=!0){this.selectModifierPhaseScene.execute(n,e)}allAchievements(n=0,e=0,t=0){this.achvUnlocker.execute(n,e,t)}RESET(){this.dataResetter.execute()}}function A(){document.getElementById("rollScreen").innerHTML=y;const n=document.getElementById("luckInput");n&&(n.dataset.min=-Math.pow(2,31),n.dataset.max=Math.pow(2,31)-1,n.value=n.dataset.max);const e=document.getElementById("moneyInput");e&&(e.dataset.min=-Number.MAX_SAFE_INTEGER,e.dataset.max=Number.MAX_SAFE_INTEGER,e.value=e.dataset.max);const t=document.getElementById("rollCountInput");function o(n){const e=x(n.value);n.value=e;const t=parseInt(n.dataset.min,10),o=parseInt(n.dataset.max,10);n.value=f(parseInt(n.value,10),t,o)}function r(n){n.target,"0123456789-,.".includes(n.key)||n.ctrlKey||n.metaKey||n.preventDefault()}t&&(t.dataset.min=-Math.pow(2,31),t.dataset.max=Math.pow(2,31)-1,t.value=t.dataset.max),document.querySelectorAll(".toggle-checkbox").forEach((n=>{n.checked=!0})),n.addEventListener("input",(()=>o(n))),n.addEventListener("keydown",r),e.addEventListener("input",(()=>o(e))),e.addEventListener("keydown",r),t.addEventListener("input",(()=>o(t))),t.addEventListener("keydown",r),document.getElementById("setLuckButton").addEventListener("click",(()=>{v(`Set Luck: ${parseInt(x(n.value),10)}`)})),document.getElementById("setMoneyButton").addEventListener("click",(()=>{v(`Set Money: ${parseInt(x(e.value),10)}`)})),document.getElementById("setRollCountButton").addEventListener("click",(()=>{v(`Set Roll Count: ${parseInt(x(t.value),10)}`)})),document.getElementById("rollActionButton").addEventListener("click",(()=>{const o=parseInt(x(n.value),10),r=parseInt(x(e.value),10),a=parseInt(x(t.value),10),i=document.getElementById("itemTierSelect").value;v(`Luck: ${o}, Money: ${r}, Roll Count: ${a}, Item Tier: ${i}`),O.roll("null"===i?null:E[i],!0)}));const a=document.getElementById("lockShopToggle");a.addEventListener("change",(()=>{v(`Lock Shop: ${a.checked}`)}))}window.HACK=new O,window.HACK,document.addEventListener("DOMContentLoaded",(()=>{A()}));const L='\x3c!-- Dummy accountScreen layout --\x3e\r\n<div id="accountScreen">\r\n    \x3c!-- Content for account screen goes here --\x3e\r\n</div>\r\n',T='\x3c!-- Dummy dataScreen layout --\x3e\r\n<div id="dataScreen">\r\n    \x3c!-- Content for data screen goes here --\x3e\r\n</div>\r\n';document.querySelectorAll(".number-input").forEach((n=>{n.addEventListener("input",(n=>{const e=x(n.target.value);n.target.value=e})),n.addEventListener("blur",(e=>{const t=x(e.target.value),o=parseFloat(t),r=parseFloat(n.dataset.min),a=parseFloat(n.dataset.max);if(isNaN(o))e.target.value="";else{const n=f(o,r,a);e.target.value=n}}))}));let C=0;function N(){const n=document.createElement("link");n.rel="stylesheet",n.href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined",n.onload=()=>{},n.onerror=()=>{},document.head.appendChild(n),function(){if(!document.getElementById("toast-container")){const n=document.createElement("div");n.id="toast-container",document.body.appendChild(n)}}(),A(),document.getElementById("accountScreen").innerHTML=L,document.getElementById("dataScreen").innerHTML=T,document.getElementById("rollScreen").style.display="block",document.getElementById("accountScreen").style.display="none",document.getElementById("dataScreen").style.display="none",document.getElementById("settingsContainer").style.display="none",document.getElementById("rollButton").addEventListener("click",(()=>{C=0,P("rollButton"),B("rollScreen")})),document.getElementById("accountButton").addEventListener("click",(()=>{C=1,P("accountButton"),B("accountScreen")})),document.getElementById("dataButton").addEventListener("click",(()=>{C=2,P("dataButton"),B("dataScreen")}));const e=document.getElementById("popupContainer"),t=document.getElementById("logoContainer");let o,r,a=!1;function i(n,t){const a=n-o,i=t-r,s=window.innerWidth-e.offsetWidth,l=window.innerHeight-e.offsetHeight;e.style.left=`${Math.min(Math.max(a,0),s)}px`,e.style.top=`${Math.min(Math.max(i,0),l)}px`}t.addEventListener("mousedown",(n=>{a=!0,o=n.clientX-e.offsetLeft,r=n.clientY-e.offsetTop,t.style.cursor="grabbing"})),document.addEventListener("mousemove",(n=>{a&&i(n.clientX,n.clientY)})),document.addEventListener("mouseup",(()=>{a=!1,t.style.cursor="grab"})),t.addEventListener("touchstart",(n=>{a=!0;const t=n.touches[0];o=t.clientX-e.offsetLeft,r=t.clientY-e.offsetTop}),{passive:!0}),document.addEventListener("touchmove",(n=>{if(a){const e=n.touches[0];i(e.clientX,e.clientY)}}),{passive:!0}),document.addEventListener("touchend",(()=>{a=!1})),window.addEventListener("resize",(()=>{const n=e.getBoundingClientRect(),t=window.innerWidth-e.offsetWidth,o=window.innerHeight-e.offsetHeight,r=Math.min(Math.max(n.left,0),t),a=Math.min(Math.max(n.top,0),o);e.style.left=`${r}px`,e.style.top=`${a}px`}));const s=document.getElementById("actionToggle"),l=document.getElementById("featureButtons"),c=document.getElementById("socialToggle"),d=document.getElementById("socialLinks"),u=document.getElementById("settingsContainer");s.addEventListener("click",(()=>{const n=l.classList.toggle("active");u.style.display=n?"block":"none",s.innerHTML=n?'<span class="material-icons-outlined">chevron_left</span>':'<span class="material-icons-outlined">chevron_right</span>',n?function(){switch(C){case 0:B("rollScreen");break;case 1:B("accountScreen");break;case 2:B("dataScreen")}}():R()})),c.addEventListener("click",(()=>{d.classList.toggle("active"),c.innerHTML=d.classList.contains("active")?'<span class="material-icons-outlined">keyboard_arrow_up</span>':'<span class="material-icons-outlined">keyboard_arrow_down</span>'})),document.getElementById("videoButton").addEventListener("click",(()=>{window.open("https://youtu.be/e-Dvv_VS-kY","_blank")})),document.getElementById("codeButton").addEventListener("click",(()=>{window.open("https://github.com/PokeRogueMOD/JsPoRoMOD","_blank")})),document.getElementById("twitchButton").addEventListener("click",(()=>{window.open("https://www.twitch.tv/meshpaintbytes","_blank")})),P("rollButton")}function B(n){R(),document.getElementById(n).style.display="block"}function R(){document.getElementById("rollScreen").style.display="none",document.getElementById("accountScreen").style.display="none",document.getElementById("dataScreen").style.display="none"}function P(n){document.querySelectorAll(".icon-button").forEach((n=>{n.classList.remove("selected")})),document.getElementById(n).classList.add("selected")}function H(){document.body.insertAdjacentHTML("beforeend",m),function(){if(!document.querySelector('link[href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"]')){const n=document.createElement("style");n.innerHTML="\n            /* Toast specific styles */\n            .toast {\n                background-color: #323232;\n                color: #fff;\n                border-radius: 4px;\n                padding: 8px 12px;\n                box-shadow: 0 2px 5px rgba(0, 0, 0, 0.26);\n                min-width: 100px;\n                max-width: 100%;\n                margin: 0 auto;\n                display: inline-block;\n                position: fixed;\n                bottom: 0;\n                left: 50%;\n                transform: translateX(-50%);\n                z-index: 10000;\n            }\n        ",document.head.appendChild(n);const e=document.createElement("script");e.src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js",document.body.appendChild(e)}}(),N()}document.addEventListener("DOMContentLoaded",(()=>{N()})),window.startPopup=H})(),o})()));