!function(n,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.PokeRogueMOD=e():n.PokeRogueMOD=e()}(this,(()=>(()=>{"use strict";var n={828:(n,e,t)=>{t.d(e,{A:()=>a});var o=t(601),r=t.n(o),i=t(314),l=t.n(i)()(r());l.push([n.id,'#accountScreen {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    width: 100%;\n    max-width: 600px; /* Adjust as needed */\n}\n\n#accountScreen h2 {\n    width: 100%;\n    text-align: center; /* Center the header */\n    margin-bottom: 8px; /* Adjust space below the header if needed */\n}\n\n#achvDate {\n    font-family: "Roboto", sans-serif !important;\n    font-size: 14px !important;\n    width: 110px;\n    height: 34px;\n    border: 1px solid black;\n    border-radius: 4px;\n    background-color: rgba(224, 104, 26, 0.8);\n    color: black;\n    padding-left: 4px;\n    padding-right: 2px;\n}\n\n.input-table {\n    width: 100%;\n    border-collapse: collapse;\n    border-spacing: 0 4px; /* Add 4px spacing between rows */\n}\n\n.input-row {\n    display: table-row;\n    width: 100%;\n    height: 40px; /* Adjust height to ensure proper vertical alignment */\n}\n\n.label-cell,\n.input-cell {\n    padding: 4px;\n    border: none;\n    vertical-align: middle !important; /* Vertically center the content */\n}\n\n.label-cell {\n    text-align: left; /* Align the text label to the left */\n    width: 1%; /* Shrink to fit content */\n    white-space: nowrap; /* Prevent line break */\n}\n\n.input-cell {\n    display: flex;\n    align-items: center;\n    gap: 4px; /* Space between inputs and buttons */\n    vertical-align: middle; /* Vertically center the input cell */\n}\n\n.label {\n    color: white;\n    text-align: left; /* Align text labels to the left */\n    display: flex;\n    margin-right: 8px; /* Space between checkboxes and inputs */\n}\n\n.number-input,\n.dropdown,\n.unlock-button {\n    flex-grow: 1;\n    padding: 8px;\n    border: 1px solid #e0681a;\n    border-radius: 4px;\n    background-color: rgba(0, 0, 0, 0.8);\n    color: white;\n    height: 36px; /* Set consistent height for inputs and buttons */\n    box-sizing: border-box; /* Ensure padding and border are included in height */\n    font-size: 14px !important;\n}\n\n.unlock-button {\n    color: #e0681a;\n    font-weight: bold;\n}\n/*\n button {\n    display: flex;\n    padding: 10px 20px;\n    border: none;\n    border-radius: 4px;\n    background-color: #e0681a;\n    color: black;\n    cursor: pointer;\n    height: 36px;\n    box-sizing: border-box;\n} \n*/\n/* Ensure item tier select option is visible */\n.dropdown {\n    display: inline-block;\n    background-color: rgba(0, 0, 0, 0.8);\n    border: 1px solid #e0681a;\n    color: white;\n    border-radius: 4px;\n    padding: 8px;\n    min-width: 100px;\n    box-sizing: border-box;\n}\n',""]);const a=l},20:(n,e,t)=>{t.d(e,{A:()=>a});var o=t(601),r=t.n(o),i=t(314),l=t.n(i)()(r());l.push([n.id,'/* actions.css */\n.action-toggle {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    background: transparent;\n    border: none;\n    outline: none;\n    height: 48px; /* Same height as logo */\n    color: #e0681a;\n    padding: 4px;\n}\n\n.feature-buttons {\n    display: none;\n    flex-direction: row;\n    gap: 6px;\n    align-items: center;\n    justify-content: flex-start; /* Align buttons to the left */\n}\n\n.feature-buttons-cell {\n    text-align: left !important;\n    vertical-align: middle !important;\n}\n\n.feature-buttons.active {\n    display: flex;\n}\n\n.icon-button,\n.social-button {\n    background-color: rgba(0, 0, 0, 0.8);\n    border: 1px solid #e0681a;\n    backdrop-filter: blur(3px);\n    border-radius: 50%;\n    padding: 10px;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 40px;\n    height: 40px;\n}\n\n.icon-button .material-icons-outlined,\n.social-button .material-icons-outlined {\n    color: #e0681a;\n}\n\n.icon-button .tooltip,\n.social-button .tooltip {\n    visibility: hidden;\n    width: 80px;\n    background-color: rgba(0, 0, 0, 0.8);\n    border: 1px solid #e0681a;\n    backdrop-filter: blur(3px);\n    color: #e0681a;\n    text-align: center;\n    border-radius: 6px;\n    padding: 5px;\n    position: absolute;\n    z-index: 1;\n    bottom: 125%;\n    left: 50%;\n    margin-left: -40px;\n    opacity: 0;\n    transition: opacity 0.3s;\n}\n\n.icon-button .tooltip::after,\n.social-button .tooltip::after {\n    content: "";\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    margin-left: -5px;\n    border-width: 5px;\n    border-style: solid;\n    border-color: black transparent transparent transparent;\n}\n\n.icon-button:hover .tooltip,\n.social-button:hover .tooltip {\n    visibility: visible;\n    opacity: 1;\n}\n\n.icon-button.selected {\n    background-color: rgba(224, 104, 26, 0.8);\n}\n\n.icon-button.selected .material-icons-outlined {\n    color: #000;\n}\n',""]);const a=l},791:(n,e,t)=>{t.d(e,{A:()=>a});var o=t(601),r=t.n(o),i=t(314),l=t.n(i)()(r());l.push([n.id,"/* base-layout.css */\n.container {\n    background-color: rgba(0, 0, 0, 0.8);\n    border: 1px solid #e0681a;\n    border-radius: 12px;\n    padding: 8px;\n    backdrop-filter: blur(3px);\n    font-size: 14px !important;\n}\n\nh2 {\n    color: #e0681a;\n    margin: 8px 0px;\n}\n\n.label {\n    color: white;\n}\n\n.input-row,\n.button-row {\n    margin-bottom: 15px;\n}\n\n.number-input,\n.dropdown {\n    width: 100%;\n    padding: 8px;\n    border: 1px solid #e0681a;\n    border-radius: 4px;\n    background-color: rgba(0, 0, 0, 0.8);\n    color: white;\n}\n\nbutton {\n    padding: 10px 20px;\n    border: none;\n    border-radius: 4px;\n    background-color: #e0681a;\n    color: black;\n    cursor: pointer;\n}\n\n/* Ensure toast container is fixed at the bottom */\n#toast-container {\n    position: fixed;\n    bottom: 0;\n    left: 50%;\n    transform: translateX(-50%);\n    z-index: 999;\n    width: 100%;\n    gap: 4px;\n}\n\n.toast {\n    color: white;\n    background-color: rgba(0, 0, 0, 0.8);\n    border: 1px solid #e0681a;\n    border-radius: 4px;\n    padding: 4px;\n    margin: 4px;\n    align-content: center;\n}\n",""]);const a=l},114:(n,e,t)=>{t.d(e,{A:()=>b});var o=t(601),r=t.n(o),i=t(314),l=t.n(i),a=t(227),s=t(20),c=t(516),d=t(791),u=t(611),p=t(828),h=l()(r());h.i(a.A),h.i(s.A),h.i(c.A),h.i(d.A),h.i(u.A),h.i(p.A),h.push([n.id,"\n",""]);const b=h},227:(n,e,t)=>{t.d(e,{A:()=>a});var o=t(601),r=t.n(o),i=t(314),l=t.n(i)()(r());l.push([n.id,"@import url(https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap);"]),l.push([n.id,"@import url(https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:opsz,wght,FILL,GRAD@24,400,0,0);"]),l.push([n.id,'/* Import Roboto font */\n\n/* Apply Roboto font to the whole overlay and toasts */\n\n.popup-container,\n.toast {\n    font-family: "Roboto", sans-serif;\n}\n\n/* popup-container styles */\n\n.popup-container {\n    position: fixed;\n    top: 50%;\n    left: 0%;\n    z-index: 10000;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n}\n\n.popup-table {\n    border-collapse: collapse;\n    width: auto;\n}\n\n.popup-table td {\n    padding: 0;\n    border: none;\n    vertical-align: top;\n    /* Align cells to the top */\n    text-align: center;\n}\n\n.logo-cell {\n    width: 48px;\n    height: 48px;\n    vertical-align: middle;\n    /* Align the logo cell vertically */\n}\n\n.action-toggle-cell {\n    width: auto;\n    vertical-align: middle;\n    /* Align the action toggle cell vertically */\n}\n\n.feature-buttons-cell {\n    text-align: left;\n    /* Align the feature buttons cell to the left */\n    vertical-align: middle;\n    /* Vertically center the feature buttons cell */\n}\n\n.social-cell {\n    width: 48px;\n    vertical-align: top;\n    /* Align the social cell to the top */\n}\n\n.settings-cell {\n    width: auto;\n    text-align: left;\n    /* Align the settings cell to the left */\n    vertical-align: top;\n    /* Align the settings cell to the top */\n    display: none;\n    /* Hide settings cell by default */\n}\n\n/* Logo styles */\n\n.logo {\n    background-color: rgba(0, 0, 0, 0.8);\n    border: 2px solid #e0681a;\n    backdrop-filter: blur(3px);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 50%;\n    width: 100%;\n    height: 100%;\n    cursor: grab;\n    user-select: none;\n}\n\n.logo img {\n    width: 40px;\n    height: 40px;\n    pointer-events: none;\n}\n\n/* Prevent elements from being highlighted */\n\n* {\n    -webkit-tap-highlight-color: transparent;\n}\n',""]);const a=l},611:(n,e,t)=>{t.d(e,{A:()=>a});var o=t(601),r=t.n(o),i=t(314),l=t.n(i)()(r());l.push([n.id,"/* roll-screen.css */\n\n#rollScreen {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    width: 100%;\n    max-width: 600px; /* Adjust as needed */\n}\n\n#rollScreen h2 {\n    width: 100%;\n    text-align: center; /* Center the header */\n    margin-bottom: 8px; /* Adjust space below the header if needed */\n}\n\n.input-table {\n    width: 100%;\n    border-collapse: collapse;\n    border-spacing: 0 4px; /* Add 4px spacing between rows */\n}\n\n.input-row {\n    display: table-row;\n    width: 100%;\n    height: 40px; /* Adjust height to ensure proper vertical alignment */\n}\n\n.label-cell,\n.checkbox-cell,\n.input-cell {\n    padding: 8px;\n    border: none;\n    vertical-align: middle !important; /* Vertically center the content */\n}\n\n.label-cell {\n    text-align: left; /* Align the text label to the left */\n    width: 1%; /* Shrink to fit content */\n    white-space: nowrap; /* Prevent line break */\n}\n\n.checkbox-cell {\n    text-align: center;\n    width: 1%; /* Shrink to fit content */\n    white-space: nowrap; /* Prevent line break */\n}\n\n.input-cell {\n    display: flex;\n    align-items: center;\n    gap: 4px; /* Space between inputs and buttons */\n    vertical-align: middle; /* Vertically center the input cell */\n}\n\n.label {\n    color: white;\n    text-align: left; /* Align text labels to the left */\n    display: block;\n}\n\n.number-input,\n.dropdown,\n.roll-button {\n    flex-grow: 1;\n    padding: 8px;\n    border: 1px solid #e0681a;\n    border-radius: 4px;\n    background-color: rgba(0, 0, 0, 0.8);\n    color: white;\n    width: 165px;\n    height: 36px; /* Set consistent height for inputs and buttons */\n    box-sizing: border-box; /* Ensure padding and border are included in height */\n    font-size: 14px !important;\n}\n\n.roll-button {\n    color: #e0681a;\n    font-weight: bold;\n}\n\n.set-button {\n    flex-shrink: 0;\n    padding: 8px;\n    border: 1px solid #e0681a;\n    border-radius: 99px;\n    background-color: rgba(0, 0, 0, 0.8);\n    color: #e0681a;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    max-width: 36px;\n    max-height: 36px;\n    justify-content: center;\n}\n\n.toggle-checkbox {\n    flex-shrink: 0;\n    margin-right: 4px; /* Space between checkboxes and inputs */\n    vertical-align: middle; /* Vertically center the checkbox */\n    height: 36px; /* Set consistent height for inputs and buttons */\n    box-sizing: border-box; /* Ensure padding and border are included in height */\n}\n\n/* Ensure checkboxes are displayed correctly */\n.toggle-checkbox {\n    appearance: none;\n    -webkit-appearance: none;\n    width: 18px;\n    height: 18px;\n    border: 2px solid #e0681a;\n    border-radius: 3px;\n    display: inline-block;\n    position: relative;\n    cursor: pointer;\n    background-color: rgba(0, 0, 0, 0.8);\n    vertical-align: middle;\n    box-sizing: border-box;\n}\n\n.toggle-checkbox:checked::before {\n    content: '';\n    position: absolute;\n    top: 2px;\n    left: 2px;\n    width: 10px;\n    height: 10px;\n    background-color: #e0681a;\n}\n\nbutton {\n    padding: 10px 20px;\n    border: none;\n    border-radius: 4px;\n    background-color: #e0681a;\n    color: black;\n    cursor: pointer;\n    height: 36px; /* Set consistent height for inputs and buttons */\n    box-sizing: border-box; /* Ensure padding and border are included in height */\n}\n\n/* Ensure item tier select option is visible */\n.dropdown {\n    display: inline-block;\n    background-color: rgba(0, 0, 0, 0.8);\n    border: 1px solid #e0681a;\n    color: white;\n    border-radius: 4px;\n    padding: 8px;\n    min-width: 100px;\n    box-sizing: border-box;\n}\n",""]);const a=l},516:(n,e,t)=>{t.d(e,{A:()=>a});var o=t(601),r=t.n(o),i=t(314),l=t.n(i)()(r());l.push([n.id,"/* social.css */\n.social-toggle {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    background: transparent;\n    border: none;\n    outline: none;\n    width: 100%;\n    color: #e0681a;\n    padding: 4px;\n}\n\n.social-links {\n    display: none;\n    flex-direction: column;\n    gap: 6px;\n    align-items: center;\n    width: 100%;\n}\n\n.social-links.active {\n    display: flex;\n}\n\n.social-button img {\n    max-width: 20px;\n    max-height: 20px;\n}\n",""]);const a=l},314:n=>{n.exports=function(n){var e=[];return e.toString=function(){return this.map((function(e){var t="",o=void 0!==e[5];return e[4]&&(t+="@supports (".concat(e[4],") {")),e[2]&&(t+="@media ".concat(e[2]," {")),o&&(t+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),t+=n(e),o&&(t+="}"),e[2]&&(t+="}"),e[4]&&(t+="}"),t})).join("")},e.i=function(n,t,o,r,i){"string"==typeof n&&(n=[[null,n,void 0]]);var l={};if(o)for(var a=0;a<this.length;a++){var s=this[a][0];null!=s&&(l[s]=!0)}for(var c=0;c<n.length;c++){var d=[].concat(n[c]);o&&l[d[0]]||(void 0!==i&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=i),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),r&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=r):d[4]="".concat(r)),e.push(d))}},e}},601:n=>{n.exports=function(n){return n[1]}},72:n=>{var e=[];function t(n){for(var t=-1,o=0;o<e.length;o++)if(e[o].identifier===n){t=o;break}return t}function o(n,o){for(var i={},l=[],a=0;a<n.length;a++){var s=n[a],c=o.base?s[0]+o.base:s[0],d=i[c]||0,u="".concat(c," ").concat(d);i[c]=d+1;var p=t(u),h={css:s[1],media:s[2],sourceMap:s[3],supports:s[4],layer:s[5]};if(-1!==p)e[p].references++,e[p].updater(h);else{var b=r(h,o);o.byIndex=a,e.splice(a,0,{identifier:u,updater:b,references:1})}l.push(u)}return l}function r(n,e){var t=e.domAPI(e);return t.update(n),function(e){if(e){if(e.css===n.css&&e.media===n.media&&e.sourceMap===n.sourceMap&&e.supports===n.supports&&e.layer===n.layer)return;t.update(n=e)}else t.remove()}}n.exports=function(n,r){var i=o(n=n||[],r=r||{});return function(n){n=n||[];for(var l=0;l<i.length;l++){var a=t(i[l]);e[a].references--}for(var s=o(n,r),c=0;c<i.length;c++){var d=t(i[c]);0===e[d].references&&(e[d].updater(),e.splice(d,1))}i=s}}},659:n=>{var e={};n.exports=function(n,t){var o=function(n){if(void 0===e[n]){var t=document.querySelector(n);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(o){t=null}e[n]=t}return e[n]}(n);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},540:n=>{n.exports=function(n){var e=document.createElement("style");return n.setAttributes(e,n.attributes),n.insert(e,n.options),e}},56:(n,e,t)=>{n.exports=function(n){var e=t.nc;e&&n.setAttribute("nonce",e)}},825:n=>{n.exports=function(n){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var e=n.insertStyleElement(n);return{update:function(t){!function(n,e,t){var o="";t.supports&&(o+="@supports (".concat(t.supports,") {")),t.media&&(o+="@media ".concat(t.media," {"));var r=void 0!==t.layer;r&&(o+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),o+=t.css,r&&(o+="}"),t.media&&(o+="}"),t.supports&&(o+="}");var i=t.sourceMap;i&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleTagTransform(o,n,e.options)}(e,n,t)},remove:function(){!function(n){if(null===n.parentNode)return!1;n.parentNode.removeChild(n)}(e)}}}},113:n=>{n.exports=function(n,e){if(e.styleSheet)e.styleSheet.cssText=n;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(n))}}}},e={};function t(o){var r=e[o];if(void 0!==r)return r.exports;var i=e[o]={id:o,exports:{}};return n[o](i,i.exports,t),i.exports}t.n=n=>{var e=n&&n.__esModule?()=>n.default:()=>n;return t.d(e,{a:e}),e},t.d=(n,e)=>{for(var o in e)t.o(e,o)&&!t.o(n,o)&&Object.defineProperty(n,o,{enumerable:!0,get:e[o]})},t.o=(n,e)=>Object.prototype.hasOwnProperty.call(n,e),t.r=n=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.nc=void 0;var o={};return(()=>{t.r(o);var n=t(72),e=t.n(n),r=t(825),i=t.n(r),l=t(659),a=t.n(l),s=t(56),c=t.n(s),d=t(540),u=t.n(d),p=t(113),h=t.n(p),b=t(114),g={};g.styleTagTransform=h(),g.setAttributes=c(),g.insert=a().bind(null,"head"),g.domAPI=i(),g.insertStyleElement=u(),e()(b.A,g),b.A&&b.A.locals&&b.A.locals;const m='<div id="rollScreen" class="container">\r\n    <h2>Roll MOD</h2>\r\n    <table class="input-table">\r\n        <tr class="input-row">\r\n            <td class="label-cell">\r\n                <label for="luckInput" class="label">Luck</label>\r\n            </td>\r\n            <td class="checkbox-cell">\r\n                <input type="checkbox" id="luckCheckbox" class="toggle-checkbox" />\r\n            </td>\r\n            <td class="input-cell">\r\n                <input type="text" id="luckInput" class="number-input" />\r\n                <button id="setLuckButton" class="set-button">\r\n                    <span class="material-symbols-outlined">\r\n                        play_arrow\r\n                    </span>\r\n                </button>\r\n            </td>\r\n        </tr>\r\n        <tr class="input-row">\r\n            <td class="label-cell">\r\n                <label for="moneyInput" class="label">Money</label>\r\n            </td>\r\n            <td class="checkbox-cell">\r\n                <input type="checkbox" id="moneyCheckbox" class="toggle-checkbox" />\r\n            </td>\r\n            <td class="input-cell">\r\n                <input type="text" id="moneyInput" class="number-input" />\r\n                <button id="setMoneyButton" class="set-button">\r\n                    <span class="material-symbols-outlined">\r\n                        play_arrow\r\n                    </span>\r\n                </button>\r\n            </td>\r\n        </tr>\r\n        <tr class="input-row">\r\n            <td class="label-cell">\r\n                <label for="rollCountInput" class="label">Count</label>\r\n            </td>\r\n            <td class="checkbox-cell">\r\n                <input type="checkbox" id="rollCountCheckbox" class="toggle-checkbox" />\r\n            </td>\r\n            <td class="input-cell">\r\n                <input type="text" id="rollCountInput" class="number-input" />\r\n                <button id="setRollCountButton" class="set-button">\r\n                    <span class="material-symbols-outlined">\r\n                        play_arrow\r\n                    </span>\r\n                </button>\r\n            </td>\r\n        </tr>\r\n        <tr class="input-row">\r\n            <td class="label-cell">\r\n                <label for="itemTierSelect" class="label">Tier</label>\r\n            </td>\r\n            <td class="checkbox-cell">\r\n                <input type="checkbox" id="itemTierCheckbox" class="toggle-checkbox" />\r\n            </td>\r\n            <td class="input-cell">\r\n                <select id="itemTierSelect" class="dropdown"></select>\r\n            </td>\r\n        </tr>\r\n        <tr class="input-row">\r\n            <td class="label-cell">\r\n                <label for="lockShopToggle" class="label">Lock</label>\r\n            </td>\r\n            <td class="checkbox-cell">\r\n                <input type="checkbox" id="lockShopToggle" class="toggle-checkbox" />\r\n            </td>\r\n            <td class="input-cell">\r\n                <button id="rollActionButton" class="roll-button">Roll</button>\r\n            </td>\r\n        </tr>\r\n    </table>\r\n</div>';function f(n){M.toast({html:n})}const x={COMMON:0,GREAT:1,ULTRA:2,ROGUE:3,MASTER:4};class y{constructor(){this.minInt=-Math.pow(2,31),this.maxInt=Math.pow(2,31)-1,this.maxMoneyInt=Number.MAX_SAFE_INTEGER-this.maxInt}get scenes(){return Phaser.Display.Canvas.CanvasPool.pool[0].parent.game.scene.scenes}get currentScene(){return this.scenes[this.scenes.length>1?this.scenes.length-1:0]}get currentPhase(){return this.currentScene.currentPhase}get currentPhaseName(){return this.currentPhase.constructor.name}playBuySound(n){this.currentScene.playSound(n)}clearUI(){this.currentScene.ui.clearText()}setUIMode(n){return this.currentScene.ui.setMode(n)}}class v extends y{constructor(){super()}setTeamLuck(n){"SelectModifierPhase"===this.currentPhaseName?3!==Phaser.Display.Canvas.CanvasPool.pool[0].parent.game.scene.keys.battle.gameMode.modeId?(this.currentScene.getParty().forEach((e=>{e.luck=n})),f(`Set Luck to ${n} (Won't update the luck Text!)`)):f("[ERROR] You cant cheat in daily run!"):f("[ERROR] Not in a roll phase!")}setMoney(n){"SelectModifierPhase"===this.currentPhaseName?3!==Phaser.Display.Canvas.CanvasPool.pool[0].parent.game.scene.keys.battle.gameMode.modeId?(this.currentScene.money=n,this.currentScene.updateMoneyText(),this.currentScene.animateMoneyChanged(!1),f(`Set Money to ${n}`)):f("[ERROR] You cant cheat in daily run!"):f("[ERROR] Not in a roll phase!")}setRollCount(n){"SelectModifierPhase"===this.currentPhaseName?3!==Phaser.Display.Canvas.CanvasPool.pool[0].parent.game.scene.keys.battle.gameMode.modeId?(this.currentPhase.rollCount=n,f(`Set Roll Count to ${rollCount}`)):f("[ERROR] You cant cheat in daily run!"):f("[ERROR] Not in a roll phase!")}lockRarities(n){this.currentScene.lockModifierTiers=n;let e=this.currentPhase.scene.ui.getHandler();e?.updateLockRaritiesText()}rerollPhase(n,e,t){const o=3+(this.currentScene.modifiers.find((n=>"ExtraModifierModifier"===n.constructor.name))?.stackCount??0);let r=Phaser.Display.Canvas.CanvasPool.pool[1].parent.parentContainer.parentContainer.displayList.list,i=r[r.length-1].list.find((n=>"UI"==n.constructor.name)).list[17].list.slice(0,o).map((n=>n.modifierTypeOption)).map((n=>n.type.tier));this.lockRarities(e);let l=!0===e&&null===n?i:null===n?this.currentPhase.getModifierTypeOptions(o).map((n=>n.type.tier)):new Array(o).fill(n);null===t&&(t=this.currentPhase.rollCount+1),this.currentPhase.scene.reroll=!0,this.currentPhase.scene.unshiftPhase(new this.currentPhase.constructor(this.currentScene,t,l))}execute(n,e,t,o,r){"SelectModifierPhase"===this.currentPhaseName?3!==Phaser.Display.Canvas.CanvasPool.pool[0].parent.game.scene.keys.battle.gameMode.modeId?(this.rerollPhase(n,e,o),this.clearUI(),this.setUIMode(0).then((()=>this.currentPhase.end())),null!==r&&this.setTeamLuck(r),null!==t?this.setMoney(t):t=this.currentScene.money,this.playBuySound("buy"),f(`Roll Count: ${o??"no"}, Item Tier: ${n??"no"}`)):f("[ERROR] You cant cheat in daily run!"):f("[ERROR] Not in a roll phase!")}}class k extends y{constructor(){super()}execute(){"TitlePhase"===this.currentPhaseName&&this.currentScene.gameData.saveAll(this.currentScene,!0,!0,!0).then((n=>{if(!n)return this.currentScene.reset(!0);this.currentScene.gameData.tryClearSession(this.currentScene,this.currentScene.sessionSlotId).then((n=>{if(!n[0])return this.currentScene.reset(!0);this.currentScene.reset(),this.currentScene.unshiftPhase(new this.currentScene.constructor(this.scene)),this.currentPhase.end()}))}))}}const E={_10K_MONEY:0,_100K_MONEY:1,_1M_MONEY:2,_10M_MONEY:3,_250_DMG:4,_1000_DMG:5,_2500_DMG:6,_10000_DMG:7,_250_HEAL:8,_1000_HEAL:9,_2500_HEAL:10,_10000_HEAL:11,LV_100:12,LV_250:13,LV_1000:14,_10_RIBBONS:15,_25_RIBBONS:16,_50_RIBBONS:17,_75_RIBBONS:18,_100_RIBBONS:19,TRANSFER_MAX_BATTLE_STAT:20,MAX_FRIENDSHIP:21,MEGA_EVOLVE:22,GIGANTAMAX:23,TERASTALLIZE:24,STELLAR_TERASTALLIZE:25,SPLICE:26,MINI_BLACK_HOLE:27,CATCH_MYTHICAL:28,CATCH_SUB_LEGENDARY:29,CATCH_LEGENDARY:30,SEE_SHINY:31,SHINY_PARTY:32,HATCH_MYTHICAL:33,HATCH_SUB_LEGENDARY:34,HATCH_LEGENDARY:35,HATCH_SHINY:36,HIDDEN_ABILITY:37,PERFECT_IVS:38,CLASSIC_VICTORY:39,MONO_GEN_ONE_VICTORY:40,MONO_GEN_TWO_VICTORY:41,MONO_GEN_THREE_VICTORY:42,MONO_GEN_FOUR_VICTORY:43,MONO_GEN_FIVE_VICTORY:44,MONO_GEN_SIX_VICTORY:45,MONO_GEN_SEVEN_VICTORY:46,MONO_GEN_EIGHT_VICTORY:47,MONO_GEN_NINE_VICTORY:48,MONO_NORMAL:49,MONO_FIGHTING:50,MONO_FLYING:51,MONO_POISON:52,MONO_GROUND:53,MONO_ROCK:54,MONO_BUG:55,MONO_GHOST:56,MONO_STEEL:57,MONO_FIRE:58,MONO_WATER:59,MONO_GRASS:60,MONO_ELECTRIC:61,MONO_PSYCHIC:62,MONO_ICE:63,MONO_DRAGON:64,MONO_DARK:65,MONO_FAIRY:66};class w extends y{constructor(){super()}execute(){const n=document.getElementById("achvDate").value,e=new Date(n).getTime();f(`Date: ${n}, Timestamp: ${e}`);const t=e;this.currentScene.gameData.achvUnlocks=Object.keys(E).reduce(((n,e)=>(n[e]=t,n)),{}),this.save(),f("All achievements unlocked!")}save(){this.currentScene.gameData.saveSystem()}}const S=new class{constructor(){this.selectModifierPhaseScene=new v,this.dataResetter=new k,this.achvUnlocker=new w}roll(n=null,e=!0,t=null,o=null,r=null){this.selectModifierPhaseScene.execute(n,e,t,o,r)}setMoney(n){this.selectModifierPhaseScene.setMoney(n)}setTeamLuck(n){this.selectModifierPhaseScene.setTeamLuck(n)}setRollCount(n){this.selectModifierPhaseScene.setRollCount(n)}setLockRarities(n){this.selectModifierPhaseScene.lockRarities(n)}allAchievements(){this.achvUnlocker.execute()}RESET(){this.dataResetter.execute()}},I=S;function _(){document.getElementById("rollScreen").innerHTML=m;const n=document.getElementById("luckInput"),e=document.getElementById("moneyInput"),t=document.getElementById("rollCountInput"),o=n=>n.replace(/\B(?=(\d{3})+(?!\d))/g,"."),r=n=>n.replace(/[^0-9]/g,""),i=(n,e)=>{n&&(n.dataset.min=-Math.pow(2,31),n.dataset.max=e,n.value=o(n.dataset.max.toString()))};i(n,Math.pow(2,31)-1),i(e,Number.MAX_SAFE_INTEGER),i(t,Math.pow(2,31)-1);const l=document.getElementById("itemTierSelect");for(var a in x){var s=document.createElement("option");s.value=x[a],s.innerText=a,l.appendChild(s)}function c(n){const e=n.selectionStart,t=r(n.value),i=parseInt(n.dataset.min,10),l=parseInt(n.dataset.max,10),a=function(n,e,t){return Math.max(e,Math.min(t,n))}(parseInt(t,10),i,l);n.value=o(a.toString());let s=e;const c=r(n.value.substring(0,e));s=c.length+Math.floor(c.length/3),n.setSelectionRange(s,s)}function d(n){n.target,/[\d]/.test(n.key)||["Backspace","Delete","ArrowLeft","ArrowRight","Home","End"].includes(n.key)||n.ctrlKey||n.metaKey||n.preventDefault()}document.querySelectorAll(".toggle-checkbox").forEach((n=>{n.checked=!0})),n.addEventListener("input",(()=>c(n))),n.addEventListener("keydown",d),e.addEventListener("input",(()=>c(e))),e.addEventListener("keydown",d),t.addEventListener("input",(()=>c(t))),t.addEventListener("keydown",d),document.getElementById("setLuckButton").addEventListener("click",(function(){this.blur();const e=parseInt(r(n.value),10);I.setTeamLuck(e)})),document.getElementById("setMoneyButton").addEventListener("click",(function(){this.blur();const n=parseInt(r(e.value),10);I.setMoney(n)})),document.getElementById("setRollCountButton").addEventListener("click",(function(){this.blur();const n=parseInt(r(t.value),10);I.setRollCount(n)})),document.getElementById("rollActionButton").addEventListener("click",(async function(){this.blur();const o=document.getElementById("rollActionButton");o.disabled=!0;try{const i=parseInt(r(n.value),10),l=parseInt(r(e.value),10),a=parseInt(r(t.value),10),s=parseInt(document.getElementById("itemTierSelect").value),c=document.getElementById("itemTierCheckbox").checked,d=document.getElementById("lockShopToggle").checked,u=document.getElementById("moneyCheckbox").checked,p=document.getElementById("rollCountCheckbox").checked,h=document.getElementById("luckCheckbox").checked;await I.roll(c?s:null,d,u?l:null,p?a:null,h?i:null),setTimeout((()=>{o.disabled=!1}),1250)}catch(i){o.disabled=!1}}));const u=document.getElementById("lockShopToggle");u.addEventListener("change",(()=>{const n=u.checked;I.setLockRarities(n),f((n?"Locked":"Unlocked")+" Shop! ")}))}window.HACK=S,document.addEventListener("DOMContentLoaded",(()=>{_()}));const O='<div id="accountScreen" class="container">\r\n    <h2>Account MOD</h2>\r\n    <table class="input-table">\r\n        <tr class="input-row">\r\n            <td class="label-cell">\r\n                <label for="achievementDate" class="label">Achievements:</label>\r\n            </td>\r\n            <td class="input-cell">\r\n                <input type="date" id="achvDate" value="2018-07-22" />\r\n                <button id="unlockAllButton" class="unlock-button">Unlock ALL</button>\r\n            </td>\r\n        </tr>\r\n    </table>\r\n</div>';function A(){document.getElementById("accountScreen").innerHTML=O,document.getElementById("unlockAllButton").addEventListener("click",(async function(){this.blur();const n=document.getElementById("unlockAllButton");n.disabled=!0;try{await I.allAchievements(),setTimeout((()=>{n.disabled=!1}),5e3)}catch(e){n.disabled=!1}}))}document.addEventListener("DOMContentLoaded",(()=>{A()}));let R=0;function C(){const n=document.createElement("link");n.rel="stylesheet",n.href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined",n.onload=()=>{},n.onerror=()=>{},document.head.appendChild(n),function(){if(!document.getElementById("toast-container")){const n=document.createElement("div");n.id="toast-container",document.body.appendChild(n)}}(),_(),A(),document.getElementById("dataScreen").innerHTML='\x3c!-- Dummy dataScreen layout --\x3e\r\n<div id="dataScreen">\r\n    \x3c!-- Content for data screen goes here --\x3e\r\n</div>\r\n',document.getElementById("rollScreen").style.display="block",document.getElementById("accountScreen").style.display="none",document.getElementById("dataScreen").style.display="none",document.getElementById("settingsContainer").style.display="none",document.getElementById("rollButton").addEventListener("click",(function(){this.blur(),R=0,B("rollButton"),L("rollScreen")})),document.getElementById("accountButton").addEventListener("click",(function(){this.blur(),R=1,B("accountButton"),L("accountScreen")})),document.getElementById("dataButton").addEventListener("click",(function(){this.blur(),R=2,B("dataButton"),L("dataScreen")}));const e=document.getElementById("popupContainer"),t=document.getElementById("logoContainer");let o,r,i=!1;function l(n,t){const i=n-o,l=t-r,a=window.innerWidth-e.offsetWidth,s=window.innerHeight-e.offsetHeight;e.style.left=`${Math.min(Math.max(i,0),a)}px`,e.style.top=`${Math.min(Math.max(l,0),s)}px`}t.addEventListener("mousedown",(n=>{i=!0,o=n.clientX-e.offsetLeft,r=n.clientY-e.offsetTop,t.style.cursor="grabbing"})),document.addEventListener("mousemove",(n=>{i&&l(n.clientX,n.clientY)})),document.addEventListener("mouseup",(()=>{i=!1,t.style.cursor="grab"})),t.addEventListener("touchstart",(n=>{i=!0;const t=n.touches[0];o=t.clientX-e.offsetLeft,r=t.clientY-e.offsetTop}),{passive:!0}),document.addEventListener("touchmove",(n=>{if(i){const e=n.touches[0];l(e.clientX,e.clientY)}}),{passive:!0}),document.addEventListener("touchend",(()=>{i=!1})),window.addEventListener("resize",(()=>{const n=e.getBoundingClientRect(),t=window.innerWidth-e.offsetWidth,o=window.innerHeight-e.offsetHeight,r=Math.min(Math.max(n.left,0),t),i=Math.min(Math.max(n.top,0),o);e.style.left=`${r}px`,e.style.top=`${i}px`}));const a=document.getElementById("actionToggle"),s=document.getElementById("featureButtons"),c=document.getElementById("socialToggle"),d=document.getElementById("socialLinks"),u=document.getElementById("settingsContainer");a.addEventListener("click",(function(){this.blur();const n=s.classList.toggle("active");u.style.display=n?"block":"none",a.innerHTML=n?'<span class="material-icons-outlined">chevron_left</span>':'<span class="material-icons-outlined">chevron_right</span>',n?function(){switch(R){case 0:L("rollScreen");break;case 1:L("accountScreen");break;case 2:L("dataScreen")}}():T()})),c.addEventListener("click",(function(){this.blur(),d.classList.toggle("active"),c.innerHTML=d.classList.contains("active")?'<span class="material-icons-outlined">keyboard_arrow_up</span>':'<span class="material-icons-outlined">keyboard_arrow_down</span>'})),document.getElementById("videoButton").addEventListener("click",(function(){this.blur(),window.open("https://youtu.be/PAlSXXpj1LQ","_blank")})),document.getElementById("codeButton").addEventListener("click",(function(){this.blur(),window.open("https://github.com/PokeRogueMOD/JsPoRoMOD","_blank")})),document.getElementById("twitchButton").addEventListener("click",(function(){this.blur(),window.open("https://www.twitch.tv/mpb_rip","_blank")})),B("rollButton")}function L(n){T(),document.getElementById(n).style.display="block"}function T(){document.getElementById("rollScreen").style.display="none",document.getElementById("accountScreen").style.display="none",document.getElementById("dataScreen").style.display="none"}function B(n){document.querySelectorAll(".icon-button").forEach((n=>{n.classList.remove("selected")})),document.getElementById(n).classList.add("selected")}document.addEventListener("DOMContentLoaded",(()=>{C()})),function(){if(!document.querySelector('link[href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"]')){const n=document.createElement("script");n.src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js",document.body.appendChild(n)}}(),function(){if(!document.querySelector('link[href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap"]')){const n=document.createElement("link");n.href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap",n.rel="stylesheet",document.head.appendChild(n)}}(),document.body.insertAdjacentHTML("beforeend",'<div class="popup-container" id="popupContainer">\r\n    <table class="popup-table">\r\n        <tr>\r\n            <td class="logo-cell" id="logoContainer">\r\n                <div class="logo" id="logoButton">\r\n                    <img src="https://raw.githubusercontent.com/PokeRogueMOD/JsPoRoMOD/main/js-poro-mod/assets/images/logo-round-512px.png" alt="Logo">\r\n                </div>\r\n            </td>\r\n            <td class="action-toggle-cell">\r\n                <button class="action-toggle" id="actionToggle">\r\n                    <span class="material-icons-outlined">chevron_right</span>\r\n                </button>\r\n            </td>\r\n            <td class="feature-buttons-cell" id="featureButtonsCell">\r\n                <div class="feature-buttons" id="featureButtons">\r\n                    <button class="icon-button" id="rollButton">\r\n                        <span class="material-icons-outlined">casino</span>\r\n                        <span class="tooltip">Roll</span>\r\n                    </button>\r\n                    <button class="icon-button" id="accountButton">\r\n                        <span class="material-icons-outlined">manage_accounts</span>\r\n                        <span class="tooltip">MOD</span>\r\n                    </button>\r\n                    <button class="icon-button" id="dataButton">\r\n                        <span class="material-icons-outlined">save</span>\r\n                        <span class="tooltip">Manage</span>\r\n                    </button>\r\n                </div>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td class="social-cell">\r\n                <button class="social-toggle" id="socialToggle">\r\n                    <span class="material-icons-outlined">keyboard_arrow_down</span>\r\n                </button>\r\n                <div class="social-links" id="socialLinks">\r\n                    <button class="social-button" id="videoButton">\r\n                        <img src="https://upload.wikimedia.org/wikipedia/commons/4/42/YouTube_icon_%282013-2017%29.png" alt="YouTube">\r\n                    </button>\r\n                    <button class="social-button" id="codeButton">\r\n                        <span class="material-icons-outlined">code</span>\r\n                    </button>\r\n                    <button class="social-button" id="twitchButton">\r\n                        <img src="https://avatars.githubusercontent.com/u/1795021" alt="Twitch">\r\n                    </button>\r\n                </div>\r\n            </td>\r\n            <td></td>\r\n            <td class="settings-cell" id="settingsContainer">\r\n                \x3c!-- Placeholder for future settings window --\x3e\r\n                <div id="rollScreen" style="display: none;"></div>\r\n                <div id="accountScreen" style="display: none;"></div>\r\n                <div id="dataScreen" style="display: none;"></div>\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    \x3c!-- Toast Container --\x3e\r\n    <div id="toastContainer"></div>\r\n</div>'),C()})(),o})()));