!function(e,n){"object"==typeof exports&&"object"==typeof module?module.exports=n():"function"==typeof define&&define.amd?define([],n):"object"==typeof exports?exports.PokeRogueMOD=n():e.PokeRogueMOD=n()}(this,(()=>(()=>{"use strict";var e={828:(e,n,t)=>{t.d(n,{A:()=>l});var o=t(601),r=t.n(o),a=t(314),i=t.n(a)()(r());i.push([e.id,"#accountScreen {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    width: 100%;\n    max-width: 600px; /* Adjust as needed */\n}\n\n#accountScreen h2 {\n    width: 100%;\n    text-align: center; /* Center the header */\n    margin-bottom: 16px; /* Adjust space below the header if needed */\n}\n\n#accountScreen .input-table {\n    width: 100%;\n    border-collapse: collapse;\n    border-spacing: 0 4px; /* Add 4px spacing between rows */\n}\n\n#accountScreen .input-row {\n    display: flex;\n    width: 100%;\n    height: 40px; /* Adjust height to ensure proper vertical alignment */\n}\n\n#accountScreen .label-cell,\n#accountScreen .input-cell {\n    padding: 8px;\n    border: none;\n    vertical-align: middle; /* Vertically center the content */\n}\n\n#accountScreen .label-cell {\n    text-align: left; /* Align the text label to the left */\n    white-space: nowrap; /* Prevent line break */\n    width: 30%; /* Adjust width as needed */\n}\n\n#accountScreen .input-cell {\n    display: flex;\n    align-items: center;\n    gap: 8px; /* Space between inputs and buttons */\n    vertical-align: middle; /* Vertically center the input cell */\n    width: 35%; /* Adjust width as needed */\n}\n\n#accountScreen .label {\n    color: white;\n    text-align: left; /* Align text labels to the left */\n    display: block;\n}\n\n#accountScreen .unlock-button {\n    background-color: #e0681a;\n    color: black;\n    cursor: pointer;\n    width: auto; /* Allow button to resize based on content */\n    flex-shrink: 0;\n    padding: 8px;\n    border: 1px solid #e0681a;\n    border-radius: 4px;\n    height: 36px; /* Set consistent height for inputs and buttons */\n    box-sizing: border-box; /* Ensure padding and border are included in height */\n}\n",""]);const l=i},20:(e,n,t)=>{t.d(n,{A:()=>l});var o=t(601),r=t.n(o),a=t(314),i=t.n(a)()(r());i.push([e.id,'/* actions.css */\n.action-toggle {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    background: transparent;\n    border: none;\n    outline: none;\n    height: 60px; /* Same height as logo */\n    color: #e0681a;\n    padding: 4px;\n}\n\n.feature-buttons {\n    display: none;\n    flex-direction: row;\n    gap: 6px;\n    align-items: center;\n    justify-content: flex-start; /* Align buttons to the left */\n}\n\n.feature-buttons-cell {\n    text-align: left !important;\n    vertical-align: middle !important;\n}\n\n.feature-buttons.active {\n    display: flex;\n}\n\n.icon-button,\n.social-button {\n    background-color: rgba(0, 0, 0, 0.8);\n    border: 1px solid #e0681a;\n    backdrop-filter: blur(3px);\n    border-radius: 50%;\n    padding: 10px;\n    cursor: pointer;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 40px;\n    height: 40px;\n}\n\n.icon-button .material-icons-outlined,\n.social-button .material-icons-outlined {\n    color: #e0681a;\n}\n\n.icon-button .tooltip,\n.social-button .tooltip {\n    visibility: hidden;\n    width: 80px;\n    background-color: rgba(0, 0, 0, 0.8);\n    border: 1px solid #e0681a;\n    backdrop-filter: blur(3px);\n    color: #e0681a;\n    text-align: center;\n    border-radius: 6px;\n    padding: 5px;\n    position: absolute;\n    z-index: 1;\n    bottom: 125%;\n    left: 50%;\n    margin-left: -40px;\n    opacity: 0;\n    transition: opacity 0.3s;\n}\n\n.icon-button .tooltip::after,\n.social-button .tooltip::after {\n    content: "";\n    position: absolute;\n    top: 100%;\n    left: 50%;\n    margin-left: -5px;\n    border-width: 5px;\n    border-style: solid;\n    border-color: black transparent transparent transparent;\n}\n\n.icon-button:hover .tooltip,\n.social-button:hover .tooltip {\n    visibility: visible;\n    opacity: 1;\n}\n\n.icon-button.selected {\n    background-color: rgba(224, 104, 26, 0.8);\n}\n\n.icon-button.selected .material-icons-outlined {\n    color: #000;\n}\n',""]);const l=i},791:(e,n,t)=>{t.d(n,{A:()=>l});var o=t(601),r=t.n(o),a=t(314),i=t.n(a)()(r());i.push([e.id,"/* base-layout.css */\n.container {\n    background-color: rgba(0, 0, 0, 0.8);\n    border: 1px solid #e0681a;\n    border-radius: 12px;\n    padding: 8px;\n    backdrop-filter: blur(3px);\n}\n\nh2 {\n    color: #e0681a;\n    margin: 8px 0px;\n}\n\n.label {\n    color: white;\n}\n\n.input-row,\n.button-row {\n    margin-bottom: 15px;\n}\n\n.number-input,\n.dropdown {\n    width: 100%;\n    padding: 8px;\n    border: 1px solid #e0681a;\n    border-radius: 4px;\n    background-color: rgba(0, 0, 0, 0.8);\n    color: white;\n}\n\nbutton {\n    padding: 10px 20px;\n    border: none;\n    border-radius: 4px;\n    background-color: #e0681a;\n    color: black;\n    cursor: pointer;\n}\n\n/* Ensure toast container is fixed at the bottom */\n#toast-container {\n    position: fixed;\n    bottom: 0;\n    left: 50%;\n    transform: translateX(-50%);\n    z-index: 999;\n    width: 100%;\n    gap: 4px;\n}\n\n.toast {\n    color: white;\n    background-color: rgba(0, 0, 0, 0.8);\n    border: 1px solid #e0681a;\n    border-radius: 4px;\n    padding: 4px;\n    margin: 4px;\n    align-content: center;\n}\n",""]);const l=i},114:(e,n,t)=>{t.d(n,{A:()=>b});var o=t(601),r=t.n(o),a=t(314),i=t.n(a),l=t(227),c=t(20),s=t(516),d=t(791),u=t(611),p=t(828),h=i()(r());h.i(l.A),h.i(c.A),h.i(s.A),h.i(d.A),h.i(u.A),h.i(p.A),h.push([e.id,"\n",""]);const b=h},227:(e,n,t)=>{t.d(n,{A:()=>l});var o=t(601),r=t.n(o),a=t(314),i=t.n(a)()(r());i.push([e.id,"@import url(https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap);"]),i.push([e.id,'/* Import Roboto font */\n\n/* Apply Roboto font to the whole overlay and toasts */\n.popup-container,\n.toast {\n    font-family: "Roboto", sans-serif;\n}\n\n/* popup-container styles */\n.popup-container {\n    position: fixed;\n    top: 10%;\n    left: 50%;\n    z-index: 10000;\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    min-width: 60px; /* Ensure minimum width matches logo */\n}\n\n.popup-table {\n    border-collapse: collapse;\n    width: auto;\n}\n\n.popup-table td {\n    padding: 0;\n    border: none;\n    vertical-align: top; /* Align cells to the top */\n    text-align: center;\n}\n\n.logo-cell {\n    width: 66px;\n    height: 62px;\n    vertical-align: middle; /* Align the logo cell vertically */\n}\n\n.action-toggle-cell {\n    width: auto;\n    vertical-align: middle; /* Align the action toggle cell vertically */\n}\n\n.feature-buttons-cell {\n    text-align: left; /* Align the feature buttons cell to the left */\n    vertical-align: middle; /* Vertically center the feature buttons cell */\n}\n\n.social-cell {\n    width: 66px;\n    vertical-align: top; /* Align the social cell to the top */\n}\n\n.settings-cell {\n    width: auto;\n    text-align: left; /* Align the settings cell to the left */\n    vertical-align: top; /* Align the settings cell to the top */\n    display: none; /* Hide settings cell by default */\n}\n\n/* Logo styles */\n.logo {\n    background-color: rgba(0, 0, 0, 0.8);\n    border: 2px solid #e0681a;\n    backdrop-filter: blur(3px);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    border-radius: 50%;\n    width: 100%;\n    height: 100%;\n    cursor: grab;\n    user-select: none;\n}\n\n.logo img {\n    width: 40px;\n    pointer-events: none;\n}\n\n/* Prevent elements from being highlighted */\n* {\n    -webkit-tap-highlight-color: transparent;\n}\n',""]);const l=i},611:(e,n,t)=>{t.d(n,{A:()=>l});var o=t(601),r=t.n(o),a=t(314),i=t.n(a)()(r());i.push([e.id,"/* roll-screen.css */\n\n#rollScreen {\n    display: flex;\n    flex-direction: column;\n    align-items: flex-start;\n    width: 100%;\n    max-width: 600px; /* Adjust as needed */\n}\n\n#rollScreen h2 {\n    width: 100%;\n    text-align: center; /* Center the header */\n    margin-bottom: 16px; /* Adjust space below the header if needed */\n}\n\n.input-table {\n    width: 100%;\n    border-collapse: collapse;\n    border-spacing: 0 4px; /* Add 4px spacing between rows */\n}\n\n.input-row {\n    display: table-row;\n    width: 100%;\n    height: 40px; /* Adjust height to ensure proper vertical alignment */\n}\n\n.label-cell,\n.checkbox-cell,\n.input-cell {\n    padding: 8px;\n    border: none;\n    vertical-align: middle !important; /* Vertically center the content */\n}\n\n.label-cell {\n    text-align: left; /* Align the text label to the left */\n    width: 1%; /* Shrink to fit content */\n    white-space: nowrap; /* Prevent line break */\n}\n\n.checkbox-cell {\n    text-align: center;\n    width: 1%; /* Shrink to fit content */\n    white-space: nowrap; /* Prevent line break */\n}\n\n.input-cell {\n    display: flex;\n    align-items: center;\n    gap: 8px; /* Space between inputs and buttons */\n    vertical-align: middle; /* Vertically center the input cell */\n}\n\n.label {\n    color: white;\n    text-align: left; /* Align text labels to the left */\n    display: block;\n}\n\n.number-input,\n.dropdown,\n.roll-button {\n    flex-grow: 1;\n    padding: 8px;\n    border: 1px solid #e0681a;\n    border-radius: 4px;\n    background-color: rgba(0, 0, 0, 0.8);\n    color: white;\n    min-width: 100px;\n    height: 36px; /* Set consistent height for inputs and buttons */\n    box-sizing: border-box; /* Ensure padding and border are included in height */\n}\n.roll-button {\n    color: #e0681a;\n}\n\n.set-button {\n    flex-shrink: 0;\n    padding: 8px;\n    border: 1px solid #e0681a;\n    border-radius: 4px;\n    background-color: rgba(0, 0, 0, 0.8);\n    color: white;\n    cursor: pointer;\n    min-width: 60px;\n    height: 36px; /* Set consistent height for inputs and buttons */\n    box-sizing: border-box; /* Ensure padding and border are included in height */\n}\n\n.toggle-checkbox {\n    flex-shrink: 0;\n    margin-right: 4px; /* Space between checkboxes and inputs */\n    vertical-align: middle; /* Vertically center the checkbox */\n    height: 36px; /* Set consistent height for inputs and buttons */\n    box-sizing: border-box; /* Ensure padding and border are included in height */\n}\n\n/* Ensure checkboxes are displayed correctly */\n.toggle-checkbox {\n    appearance: none;\n    -webkit-appearance: none;\n    width: 18px;\n    height: 18px;\n    border: 2px solid #e0681a;\n    border-radius: 3px;\n    display: inline-block;\n    position: relative;\n    cursor: pointer;\n    background-color: rgba(0, 0, 0, 0.8);\n    vertical-align: middle;\n    box-sizing: border-box;\n}\n\n.toggle-checkbox:checked::before {\n    content: '';\n    position: absolute;\n    top: 2px;\n    left: 2px;\n    width: 10px;\n    height: 10px;\n    background-color: #e0681a;\n}\n\nbutton {\n    padding: 10px 20px;\n    border: none;\n    border-radius: 4px;\n    background-color: #e0681a;\n    color: black;\n    cursor: pointer;\n    height: 36px; /* Set consistent height for inputs and buttons */\n    box-sizing: border-box; /* Ensure padding and border are included in height */\n}\n\n/* Ensure item tier select option is visible */\n.dropdown {\n    display: inline-block;\n    background-color: rgba(0, 0, 0, 0.8);\n    border: 1px solid #e0681a;\n    color: white;\n    border-radius: 4px;\n    padding: 8px;\n    min-width: 100px;\n    box-sizing: border-box;\n}\n",""]);const l=i},516:(e,n,t)=>{t.d(n,{A:()=>l});var o=t(601),r=t.n(o),a=t(314),i=t.n(a)()(r());i.push([e.id,"/* social.css */\n.social-toggle {\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    cursor: pointer;\n    background: transparent;\n    border: none;\n    outline: none;\n    width: 100%;\n    color: #e0681a;\n    padding: 4px;\n}\n\n.social-links {\n    display: none;\n    flex-direction: column;\n    gap: 6px;\n    align-items: center;\n    width: 100%;\n}\n\n.social-links.active {\n    display: flex;\n}\n\n.social-button img {\n    max-width: 20px;\n    max-height: 20px;\n}\n",""]);const l=i},314:e=>{e.exports=function(e){var n=[];return n.toString=function(){return this.map((function(n){var t="",o=void 0!==n[5];return n[4]&&(t+="@supports (".concat(n[4],") {")),n[2]&&(t+="@media ".concat(n[2]," {")),o&&(t+="@layer".concat(n[5].length>0?" ".concat(n[5]):""," {")),t+=e(n),o&&(t+="}"),n[2]&&(t+="}"),n[4]&&(t+="}"),t})).join("")},n.i=function(e,t,o,r,a){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(o)for(var l=0;l<this.length;l++){var c=this[l][0];null!=c&&(i[c]=!0)}for(var s=0;s<e.length;s++){var d=[].concat(e[s]);o&&i[d[0]]||(void 0!==a&&(void 0===d[5]||(d[1]="@layer".concat(d[5].length>0?" ".concat(d[5]):""," {").concat(d[1],"}")),d[5]=a),t&&(d[2]?(d[1]="@media ".concat(d[2]," {").concat(d[1],"}"),d[2]=t):d[2]=t),r&&(d[4]?(d[1]="@supports (".concat(d[4],") {").concat(d[1],"}"),d[4]=r):d[4]="".concat(r)),n.push(d))}},n}},601:e=>{e.exports=function(e){return e[1]}},72:e=>{var n=[];function t(e){for(var t=-1,o=0;o<n.length;o++)if(n[o].identifier===e){t=o;break}return t}function o(e,o){for(var a={},i=[],l=0;l<e.length;l++){var c=e[l],s=o.base?c[0]+o.base:c[0],d=a[s]||0,u="".concat(s," ").concat(d);a[s]=d+1;var p=t(u),h={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)n[p].references++,n[p].updater(h);else{var b=r(h,o);o.byIndex=l,n.splice(l,0,{identifier:u,updater:b,references:1})}i.push(u)}return i}function r(e,n){var t=n.domAPI(n);return t.update(e),function(n){if(n){if(n.css===e.css&&n.media===e.media&&n.sourceMap===e.sourceMap&&n.supports===e.supports&&n.layer===e.layer)return;t.update(e=n)}else t.remove()}}e.exports=function(e,r){var a=o(e=e||[],r=r||{});return function(e){e=e||[];for(var i=0;i<a.length;i++){var l=t(a[i]);n[l].references--}for(var c=o(e,r),s=0;s<a.length;s++){var d=t(a[s]);0===n[d].references&&(n[d].updater(),n.splice(d,1))}a=c}}},659:e=>{var n={};e.exports=function(e,t){var o=function(e){if(void 0===n[e]){var t=document.querySelector(e);if(window.HTMLIFrameElement&&t instanceof window.HTMLIFrameElement)try{t=t.contentDocument.head}catch(o){t=null}n[e]=t}return n[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(t)}},540:e=>{e.exports=function(e){var n=document.createElement("style");return e.setAttributes(n,e.attributes),e.insert(n,e.options),n}},56:(e,n,t)=>{e.exports=function(e){var n=t.nc;n&&e.setAttribute("nonce",n)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var n=e.insertStyleElement(e);return{update:function(t){!function(e,n,t){var o="";t.supports&&(o+="@supports (".concat(t.supports,") {")),t.media&&(o+="@media ".concat(t.media," {"));var r=void 0!==t.layer;r&&(o+="@layer".concat(t.layer.length>0?" ".concat(t.layer):""," {")),o+=t.css,r&&(o+="}"),t.media&&(o+="}"),t.supports&&(o+="}");var a=t.sourceMap;a&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(a))))," */")),n.styleTagTransform(o,e,n.options)}(n,e,t)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)}}}},113:e=>{e.exports=function(e,n){if(n.styleSheet)n.styleSheet.cssText=e;else{for(;n.firstChild;)n.removeChild(n.firstChild);n.appendChild(document.createTextNode(e))}}}},n={};function t(o){var r=n[o];if(void 0!==r)return r.exports;var a=n[o]={id:o,exports:{}};return e[o](a,a.exports,t),a.exports}t.n=e=>{var n=e&&e.__esModule?()=>e.default:()=>e;return t.d(n,{a:n}),n},t.d=(e,n)=>{for(var o in n)t.o(n,o)&&!t.o(e,o)&&Object.defineProperty(e,o,{enumerable:!0,get:n[o]})},t.o=(e,n)=>Object.prototype.hasOwnProperty.call(e,n),t.r=e=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},t.nc=void 0;var o={};return(()=>{t.r(o);var e=t(72),n=t.n(e),r=t(825),a=t.n(r),i=t(659),l=t.n(i),c=t(56),s=t.n(c),d=t(540),u=t.n(d),p=t(113),h=t.n(p),b=t(114),m={};function g(e){return(e=e.replace(/[^\d.,-]/g,"")).replace(/[,\s]/g,"")}function f(e,n,t){return Math.max(n,Math.min(t,e))}m.styleTagTransform=h(),m.setAttributes=s(),m.insert=l().bind(null,"head"),m.domAPI=a(),m.insertStyleElement=u(),n()(b.A,m),b.A&&b.A.locals&&b.A.locals;const x='<div id="rollScreen" class="container">\r\n    <h2>Roll MOD</h2>\r\n    <table class="input-table">\r\n        <tr class="input-row">\r\n            <td class="label-cell">\r\n                <label for="luckInput" class="label">Luck:</label>\r\n            </td>\r\n            <td class="checkbox-cell">\r\n                <input type="checkbox" id="luckCheckbox" class="toggle-checkbox" />\r\n            </td>\r\n            <td class="input-cell">\r\n                <input type="text" id="luckInput" class="number-input" />\r\n                <button id="setLuckButton" class="set-button">Set</button>\r\n            </td>\r\n        </tr>\r\n        <tr class="input-row">\r\n            <td class="label-cell">\r\n                <label for="moneyInput" class="label">Money:</label>\r\n            </td>\r\n            <td class="checkbox-cell">\r\n                <input type="checkbox" id="moneyCheckbox" class="toggle-checkbox" />\r\n            </td>\r\n            <td class="input-cell">\r\n                <input type="text" id="moneyInput" class="number-input" />\r\n                <button id="setMoneyButton" class="set-button">Set</button>\r\n            </td>\r\n        </tr>\r\n        <tr class="input-row">\r\n            <td class="label-cell">\r\n                <label for="rollCountInput" class="label">Roll Count:</label>\r\n            </td>\r\n            <td class="checkbox-cell">\r\n                <input type="checkbox" id="rollCountCheckbox" class="toggle-checkbox" />\r\n            </td>\r\n            <td class="input-cell">\r\n                <input type="text" id="rollCountInput" class="number-input" />\r\n                <button id="setRollCountButton" class="set-button">Set</button>\r\n            </td>\r\n        </tr>\r\n        <tr class="input-row">\r\n            <td class="label-cell">\r\n                <label for="itemTierSelect" class="label">Item Tier:</label>\r\n            </td>\r\n            <td class="checkbox-cell">\r\n                <input type="checkbox" id="itemTierCheckbox" class="toggle-checkbox" />\r\n            </td>\r\n            <td class="input-cell">\r\n                <select id="itemTierSelect" class="dropdown"></select>\r\n            </td>\r\n        </tr>\r\n        <tr class="input-row">\r\n            <td class="label-cell">\r\n                <label for="lockShopToggle" class="label">Lock Shop:</label>\r\n            </td>\r\n            <td class="checkbox-cell">\r\n                <input type="checkbox" id="lockShopToggle" class="toggle-checkbox" />\r\n            </td>\r\n            <td class="input-cell">\r\n                <button id="rollActionButton" class="roll-button">Roll</button>\r\n            </td>\r\n        </tr>\r\n    </table>\r\n</div>';function y(e){M.toast({html:e})}const v={COMMON:0,GREAT:1,ULTRA:2,ROGUE:3,MASTER:4};class E{constructor(){this.minInt=-Math.pow(2,31),this.maxInt=Math.pow(2,31)-1,this.maxMoneyInt=Number.MAX_SAFE_INTEGER-this.maxInt}get scenes(){return Phaser.Display.Canvas.CanvasPool.pool[0].parent.game.scene.scenes}get currentScene(){return this.scenes[this.scenes.length>1?this.scenes.length-1:0]}get currentPhase(){return this.currentScene.currentPhase}get currentPhaseName(){return this.currentPhase.constructor.name}playBuySound(e){this.currentScene.playSound(e)}clearUI(){this.currentScene.ui.clearText()}setUIMode(e){return this.currentScene.ui.setMode(e)}}class k extends E{constructor(){super()}setTeamLuck(e){"SelectModifierPhase"===this.currentPhaseName?3!==Phaser.Display.Canvas.CanvasPool.pool[0].parent.game.scene.keys.battle.gameMode.modeId?(this.currentScene.getParty().forEach((n=>{n.luck=e})),y(`Set Luck to ${e} (Won't update the luck Text!)`)):y("[ERROR] You cant cheat in daily run!"):y("[ERROR] Not in a roll phase!")}setMoney(e){"SelectModifierPhase"===this.currentPhaseName?3!==Phaser.Display.Canvas.CanvasPool.pool[0].parent.game.scene.keys.battle.gameMode.modeId?(this.currentScene.money=e,this.currentScene.updateMoneyText(),this.currentScene.animateMoneyChanged(!1),y(`Set Money to ${e}`)):y("[ERROR] You cant cheat in daily run!"):y("[ERROR] Not in a roll phase!")}setRollCount(e){"SelectModifierPhase"===this.currentPhaseName?3!==Phaser.Display.Canvas.CanvasPool.pool[0].parent.game.scene.keys.battle.gameMode.modeId?(this.currentPhase.rollCount=e,y(`Set Roll Count to ${rollCount}`)):y("[ERROR] You cant cheat in daily run!"):y("[ERROR] Not in a roll phase!")}lockRarities(e){this.currentScene.lockModifierTiers=e;let n=this.currentPhase.scene.ui.getHandler();n?.updateLockRaritiesText()}rerollPhase(e,n,t){const o=3+(this.currentScene.modifiers.find((e=>"ExtraModifierModifier"===e.constructor.name))?.stackCount??0);let r=Phaser.Display.Canvas.CanvasPool.pool[1].parent.parentContainer.parentContainer.displayList.list,a=r[r.length-1].list.find((e=>"UI"==e.constructor.name)).list[17].list.slice(0,o).map((e=>e.modifierTypeOption)).map((e=>e.type.tier));this.lockRarities(n);let i=!0===n&&null===e?a:null===e?this.currentPhase.getModifierTypeOptions(o).map((e=>e.type.tier)):new Array(o).fill(e);null===t&&(t=this.currentPhase.rollCount+1),this.currentPhase.scene.reroll=!0,this.currentPhase.scene.unshiftPhase(new this.currentPhase.constructor(this.currentScene,t,i))}execute(e,n,t,o,r){"SelectModifierPhase"===this.currentPhaseName?3!==Phaser.Display.Canvas.CanvasPool.pool[0].parent.game.scene.keys.battle.gameMode.modeId?(this.rerollPhase(e,n,o),this.clearUI(),this.setUIMode(0).then((()=>this.currentPhase.end())),null!==r&&this.setTeamLuck(r),null!==t?this.setMoney(t):t=this.currentScene.money,this.playBuySound("buy"),y(`Roll Count: ${o??"no"}, Item Tier: ${e??"no"}`)):y("[ERROR] You cant cheat in daily run!"):y("[ERROR] Not in a roll phase!")}}class S extends E{constructor(){super()}execute(){"TitlePhase"===this.currentPhaseName&&this.currentScene.gameData.saveAll(this.currentScene,!0,!0,!0).then((e=>{if(!e)return this.currentScene.reset(!0);this.currentScene.gameData.tryClearSession(this.currentScene,this.currentScene.sessionSlotId).then((e=>{if(!e[0])return this.currentScene.reset(!0);this.currentScene.reset(),this.currentScene.unshiftPhase(new this.currentScene.constructor(this.scene)),this.currentPhase.end()}))}))}}const w={_10K_MONEY:0,_100K_MONEY:1,_1M_MONEY:2,_10M_MONEY:3,_250_DMG:4,_1000_DMG:5,_2500_DMG:6,_10000_DMG:7,_250_HEAL:8,_1000_HEAL:9,_2500_HEAL:10,_10000_HEAL:11,LV_100:12,LV_250:13,LV_1000:14,_10_RIBBONS:15,_25_RIBBONS:16,_50_RIBBONS:17,_75_RIBBONS:18,_100_RIBBONS:19,TRANSFER_MAX_BATTLE_STAT:20,MAX_FRIENDSHIP:21,MEGA_EVOLVE:22,GIGANTAMAX:23,TERASTALLIZE:24,STELLAR_TERASTALLIZE:25,SPLICE:26,MINI_BLACK_HOLE:27,CATCH_MYTHICAL:28,CATCH_SUB_LEGENDARY:29,CATCH_LEGENDARY:30,SEE_SHINY:31,SHINY_PARTY:32,HATCH_MYTHICAL:33,HATCH_SUB_LEGENDARY:34,HATCH_LEGENDARY:35,HATCH_SHINY:36,HIDDEN_ABILITY:37,PERFECT_IVS:38,CLASSIC_VICTORY:39,MONO_GEN_ONE_VICTORY:40,MONO_GEN_TWO_VICTORY:41,MONO_GEN_THREE_VICTORY:42,MONO_GEN_FOUR_VICTORY:43,MONO_GEN_FIVE_VICTORY:44,MONO_GEN_SIX_VICTORY:45,MONO_GEN_SEVEN_VICTORY:46,MONO_GEN_EIGHT_VICTORY:47,MONO_GEN_NINE_VICTORY:48,MONO_NORMAL:49,MONO_FIGHTING:50,MONO_FLYING:51,MONO_POISON:52,MONO_GROUND:53,MONO_ROCK:54,MONO_BUG:55,MONO_GHOST:56,MONO_STEEL:57,MONO_FIRE:58,MONO_WATER:59,MONO_GRASS:60,MONO_ELECTRIC:61,MONO_PSYCHIC:62,MONO_ICE:63,MONO_DRAGON:64,MONO_DARK:65,MONO_FAIRY:66};class I extends E{constructor(){super()}execute(){const e=document.getElementById("achvDate").value,n=new Date(e).getTime();y(`Date: ${e}, Timestamp: ${n}`);const t=n;this.currentScene.gameData.achvUnlocks=Object.keys(w).reduce(((e,n)=>(e[n]=t,e)),{}),this.save(),y("All achievements unlocked!")}save(){this.currentScene.gameData.saveSystem()}}const _=new class{constructor(){this.selectModifierPhaseScene=new k,this.dataResetter=new S,this.achvUnlocker=new I}roll(e=null,n=!0,t=null,o=null,r=null){this.selectModifierPhaseScene.execute(e,n,t,o,r)}setMoney(e){this.selectModifierPhaseScene.setMoney(e)}setTeamLuck(e){this.selectModifierPhaseScene.setTeamLuck(e)}setRollCount(e){this.selectModifierPhaseScene.setRollCount(e)}setLockRarities(e){this.selectModifierPhaseScene.lockRarities(e)}allAchievements(){this.achvUnlocker.execute()}RESET(){this.dataResetter.execute()}},O=_;function A(){document.getElementById("rollScreen").innerHTML=x;const e=document.getElementById("luckInput");e&&(e.dataset.min=-Math.pow(2,31),e.dataset.max=Math.pow(2,31)-1,e.value=e.dataset.max);const n=document.getElementById("moneyInput");n&&(n.dataset.min=-Number.MAX_SAFE_INTEGER,n.dataset.max=Number.MAX_SAFE_INTEGER,n.value=n.dataset.max);const t=document.getElementById("rollCountInput");t&&(t.dataset.min=-Math.pow(2,31),t.dataset.max=Math.pow(2,31)-1,t.value=t.dataset.max);const o=document.getElementById("itemTierSelect");for(var r in v){var a=document.createElement("option");a.value=v[r],a.innerText=r,o.appendChild(a)}function i(e){const n=g(e.value);e.value=n;const t=parseInt(e.dataset.min,10),o=parseInt(e.dataset.max,10);e.value=f(parseInt(e.value,10),t,o)}function l(e){e.target,"0123456789-,.".includes(e.key)||e.ctrlKey||e.metaKey||e.preventDefault()}document.querySelectorAll(".toggle-checkbox").forEach((e=>{e.checked=!0})),e.addEventListener("input",(()=>i(e))),e.addEventListener("keydown",l),n.addEventListener("input",(()=>i(n))),n.addEventListener("keydown",l),t.addEventListener("input",(()=>i(t))),t.addEventListener("keydown",l),document.getElementById("setLuckButton").addEventListener("click",(function(){this.blur();const n=parseInt(g(e.value),10);O.setTeamLuck(n)})),document.getElementById("setMoneyButton").addEventListener("click",(function(){this.blur();const e=parseInt(g(n.value),10);O.setMoney(e)})),document.getElementById("setRollCountButton").addEventListener("click",(function(){this.blur();const e=parseInt(g(t.value),10);O.setRollCount(e)})),document.getElementById("rollActionButton").addEventListener("click",(async function(){this.blur();const o=document.getElementById("rollActionButton");o.disabled=!0;try{const r=parseInt(g(e.value),10),a=parseInt(g(n.value),10),i=parseInt(g(t.value),10),l=parseInt(document.getElementById("itemTierSelect").value),c=document.getElementById("itemTierCheckbox").checked,s=document.getElementById("lockShopToggle").checked,d=document.getElementById("moneyCheckbox").checked,u=document.getElementById("rollCountCheckbox").checked,p=document.getElementById("luckCheckbox").checked;await O.roll(c?l:null,s,d?a:null,u?i:null,p?r:null),setTimeout((()=>{o.disabled=!1}),1250)}catch(r){o.disabled=!1}}));const c=document.getElementById("lockShopToggle");c.addEventListener("change",(()=>{const e=c.checked;O.setLockRarities(e),y((e?"Locked":"Unlocked")+" Shop! ")}))}window.HACK=_,document.addEventListener("DOMContentLoaded",(()=>{A()}));const C='<div id="accountScreen" class="container">\r\n    <h2>Account MOD</h2>\r\n    <table class="input-table">\r\n        <tr class="input-row">\r\n            <td class="label-cell">\r\n                <label for="achievementDate" class="label">Achievements:</label>\r\n            </td>\r\n            <td class="input-cell">\r\n\r\n                <input type="date" id="achvDate" value="2018-07-22" />\r\n\r\n            </td>\r\n            <td class="input-cell">\r\n                <button id="unlockAllButton" class="unlock-button">Unlock ALL</button>\r\n            </td>\r\n        </tr>\r\n    </table>\r\n</div>';function R(){document.getElementById("accountScreen").innerHTML=C,document.getElementById("unlockAllButton").addEventListener("click",(async function(){this.blur();const e=document.getElementById("unlockAllButton");e.disabled=!0;try{await O.allAchievements(),setTimeout((()=>{e.disabled=!1}),5e3)}catch(n){e.disabled=!1}}))}document.addEventListener("DOMContentLoaded",(()=>{R()})),document.querySelectorAll(".number-input").forEach((e=>{e.addEventListener("input",(e=>{const n=g(e.target.value);e.target.value=n})),e.addEventListener("blur",(n=>{const t=g(n.target.value),o=parseFloat(t),r=parseFloat(e.dataset.min),a=parseFloat(e.dataset.max);if(isNaN(o))n.target.value="";else{const e=f(o,r,a);n.target.value=e}}))}));let T=0;function L(){const e=document.createElement("link");e.rel="stylesheet",e.href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined",e.onload=()=>{},e.onerror=()=>{},document.head.appendChild(e),function(){if(!document.getElementById("toast-container")){const e=document.createElement("div");e.id="toast-container",document.body.appendChild(e)}}(),A(),R(),document.getElementById("dataScreen").innerHTML='\x3c!-- Dummy dataScreen layout --\x3e\r\n<div id="dataScreen">\r\n    \x3c!-- Content for data screen goes here --\x3e\r\n</div>\r\n',document.getElementById("rollScreen").style.display="block",document.getElementById("accountScreen").style.display="none",document.getElementById("dataScreen").style.display="none",document.getElementById("settingsContainer").style.display="none",document.getElementById("rollButton").addEventListener("click",(function(){this.blur(),T=0,P("rollButton"),B("rollScreen")})),document.getElementById("accountButton").addEventListener("click",(function(){this.blur(),T=1,P("accountButton"),B("accountScreen")})),document.getElementById("dataButton").addEventListener("click",(function(){this.blur(),T=2,P("dataButton"),B("dataScreen")}));const n=document.getElementById("popupContainer"),t=document.getElementById("logoContainer");let o,r,a=!1;function i(e,t){const a=e-o,i=t-r,l=window.innerWidth-n.offsetWidth,c=window.innerHeight-n.offsetHeight;n.style.left=`${Math.min(Math.max(a,0),l)}px`,n.style.top=`${Math.min(Math.max(i,0),c)}px`}t.addEventListener("mousedown",(e=>{a=!0,o=e.clientX-n.offsetLeft,r=e.clientY-n.offsetTop,t.style.cursor="grabbing"})),document.addEventListener("mousemove",(e=>{a&&i(e.clientX,e.clientY)})),document.addEventListener("mouseup",(()=>{a=!1,t.style.cursor="grab"})),t.addEventListener("touchstart",(e=>{a=!0;const t=e.touches[0];o=t.clientX-n.offsetLeft,r=t.clientY-n.offsetTop}),{passive:!0}),document.addEventListener("touchmove",(e=>{if(a){const n=e.touches[0];i(n.clientX,n.clientY)}}),{passive:!0}),document.addEventListener("touchend",(()=>{a=!1})),window.addEventListener("resize",(()=>{const e=n.getBoundingClientRect(),t=window.innerWidth-n.offsetWidth,o=window.innerHeight-n.offsetHeight,r=Math.min(Math.max(e.left,0),t),a=Math.min(Math.max(e.top,0),o);n.style.left=`${r}px`,n.style.top=`${a}px`}));const l=document.getElementById("actionToggle"),c=document.getElementById("featureButtons"),s=document.getElementById("socialToggle"),d=document.getElementById("socialLinks"),u=document.getElementById("settingsContainer");l.addEventListener("click",(function(){this.blur();const e=c.classList.toggle("active");u.style.display=e?"block":"none",l.innerHTML=e?'<span class="material-icons-outlined">chevron_left</span>':'<span class="material-icons-outlined">chevron_right</span>',e?function(){switch(T){case 0:B("rollScreen");break;case 1:B("accountScreen");break;case 2:B("dataScreen")}}():N()})),s.addEventListener("click",(function(){this.blur(),d.classList.toggle("active"),s.innerHTML=d.classList.contains("active")?'<span class="material-icons-outlined">keyboard_arrow_up</span>':'<span class="material-icons-outlined">keyboard_arrow_down</span>'})),document.getElementById("videoButton").addEventListener("click",(function(){this.blur(),window.open("https://youtu.be/e-Dvv_VS-kY","_blank")})),document.getElementById("codeButton").addEventListener("click",(function(){this.blur(),window.open("https://github.com/PokeRogueMOD/JsPoRoMOD","_blank")})),document.getElementById("twitchButton").addEventListener("click",(function(){this.blur(),window.open("https://www.titch.tv/meshpaintbytes","_blank")})),P("rollButton")}function B(e){N(),document.getElementById(e).style.display="block"}function N(){document.getElementById("rollScreen").style.display="none",document.getElementById("accountScreen").style.display="none",document.getElementById("dataScreen").style.display="none"}function P(e){document.querySelectorAll(".icon-button").forEach((e=>{e.classList.remove("selected")})),document.getElementById(e).classList.add("selected")}document.addEventListener("DOMContentLoaded",(()=>{L()})),function(){if(!document.querySelector('link[href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css"]')){const e=document.createElement("script");e.src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js",document.body.appendChild(e)}}(),function(){if(!document.querySelector('link[href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap"]')){const e=document.createElement("link");e.href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;700&display=swap",e.rel="stylesheet",document.head.appendChild(e)}}(),document.body.insertAdjacentHTML("beforeend",'<div class="popup-container" id="popupContainer">\r\n    <table class="popup-table">\r\n        <tr>\r\n            <td class="logo-cell" id="logoContainer">\r\n                <div class="logo" id="logoButton">\r\n                    <img src="https://raw.githubusercontent.com/PokeRogueMOD/JsPoRoMOD/main/js-poro-mod/assets/images/logo-round-512px.png" alt="Logo">\r\n                </div>\r\n            </td>\r\n            <td class="action-toggle-cell">\r\n                <button class="action-toggle" id="actionToggle">\r\n                    <span class="material-icons-outlined">chevron_right</span>\r\n                </button>\r\n            </td>\r\n            <td class="feature-buttons-cell" id="featureButtonsCell">\r\n                <div class="feature-buttons" id="featureButtons">\r\n                    <button class="icon-button" id="rollButton">\r\n                        <span class="material-icons-outlined">casino</span>\r\n                        <span class="tooltip">Roll</span>\r\n                    </button>\r\n                    <button class="icon-button" id="accountButton">\r\n                        <span class="material-icons-outlined">manage_accounts</span>\r\n                        <span class="tooltip">MOD</span>\r\n                    </button>\r\n                    <button class="icon-button" id="dataButton">\r\n                        <span class="material-icons-outlined">save</span>\r\n                        <span class="tooltip">Manage</span>\r\n                    </button>\r\n                </div>\r\n            </td>\r\n        </tr>\r\n        <tr>\r\n            <td class="social-cell">\r\n                <button class="social-toggle" id="socialToggle">\r\n                    <span class="material-icons-outlined">keyboard_arrow_down</span>\r\n                </button>\r\n                <div class="social-links" id="socialLinks">\r\n                    <button class="social-button" id="videoButton">\r\n                        <img src="https://upload.wikimedia.org/wikipedia/commons/4/42/YouTube_icon_%282013-2017%29.png" alt="YouTube">\r\n                    </button>\r\n                    <button class="social-button" id="codeButton">\r\n                        <span class="material-icons-outlined">code</span>\r\n                    </button>\r\n                    <button class="social-button" id="twitchButton">\r\n                        <img src="https://avatars.githubusercontent.com/u/1795021" alt="Twitch">\r\n                    </button>\r\n                </div>\r\n            </td>\r\n            <td></td>\r\n            <td class="settings-cell" id="settingsContainer">\r\n                \x3c!-- Placeholder for future settings window --\x3e\r\n                <div id="rollScreen" style="display: none;"></div>\r\n                <div id="accountScreen" style="display: none;"></div>\r\n                <div id="dataScreen" style="display: none;"></div>\r\n            </td>\r\n        </tr>\r\n    </table>\r\n    \x3c!-- Toast Container --\x3e\r\n    <div id="toastContainer"></div>\r\n</div>'),L()})(),o})()));